!function(){function i(e){var t=e;this.val=function(e){return t=void 0!==e?e:t}}function c(e){var t;return e&&e.constructor&&e.constructor===c?e:((c[(t=new i(e)).type()]||t.isElement()||e===window.document)&&(e=t.isElement()||e===window.document?c.element:c[t.type()],i4t.extend(t,e)),t)}var e,n=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,s=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");(i.prototype={constructor:c,inspect:function(){try{return this.isUndefined()?"undefined":null===this.val()?"null":this.val().inspect?this.val().inspect():String(this.val())}catch(e){throw new Error(e)}},keys:function(){var t=[];return this.each(function(e){t.push(e)}),i4t(t)},values:function(){var t=[];return this.each(function(e){t.push(this.val())}),i4t(t)},set:function(e,t){if((e=c(e)).isString()&&/\w+/.test(e.val())||this.isArray()&&e.isInt()&&0<=e.val())try{return this.val()[e.val()]=t,!0}catch(e){}return!1},remove:function(e){if((e=c(e)).isString()&&/\w+/.test(e.val())&&this.isPlainObject())try{delete this.val()[e.val()]}catch(e){}this.isArray()&&e.isInt()&&0<=e.val()&&e.val()<this.val().length&&this.val().splice(e.val(),1)},get:function(e){if((e=c(e)).isString()&&/\w+/.test(e.val())||this.isArray()&&e.isInt()&&0<=e.val()&&e.val()<this.val().length)try{return this.val()[e.val()]}catch(e){}return null},containsKey:function(e){if(!(e=c(e)).isString()||!/\w+/.test(e.val()))return!1;for(var t in this.val())if(this.val().hasOwnProperty(t)&&t===e.val())return!0;return!1},clone:function(){var e={};return this.extend(e,this.val()),c(e)},isElement:function(){return!(!this.val()||1!==this.val().nodeType)},isArray:function(){return"[object Array]"===n.call(this.val())},isFunction:function(){return"function"==typeof this.val()},isString:function(){return"[object String]"===n.call(this.val())},isNullOrEmptyString:function(){return this.isUndefinedOrNull()||this.isString()&&""===this.trim().val()},isNumber:function(){return"[object Number]"===n.call(this.val())},isWindow:function(){return!this.isObject()&&"setTimeout"in this.val()},isBoolean:function(){return"[object Boolean]"===n.call(this.val())},isObject:function(){return!this.isUndefinedOrNull()&&"[object Object]"===n.call(this.val())},isRegExp:function(){return"[object RegExp]"===n.call(this.val())},isInt:function(){var e=parseInt(this.val());return!isNaN(e)&&this.val().toString()===e.toString()},isFloat:function(){var e=parseFloat(this.val());return!isNaN(e)&&this.val().toString()===e.toString()},isUndefined:function(){return void 0===this.val()},isUndefinedOrNull:function(){return this.isUndefined()||null===this.val()},isNative:function(){var e=this.val(),t=typeof e;return"function"==t?s.test(r.call(e)):e&&"object"==t&&o.test(n.call(e))||!1},type:function(){var e=n.call(this.val());return this.isUndefinedOrNull()?this.inspect():0<(e=e.match(/\[object ([a-zA-Z\d]*)\]/)).length?e[1].toLowerCase():"object"},isPlainObject:function(){if(!this.val()||"object"!==this.type()||this.val().nodeType)return!1;try{if(this.val().constructor&&!t.call(this.val(),"constructor")&&!t.call(this.val().constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var e in this.val())if(!t.call(this.val(),e))return!1;return!0},isEmptyObject:function(){if(this.type().indexOf("object")<0)return!1;for(var e in this.val())if(this.val().hasOwnProperty(e))return!1;return!0},each:function(e,t){var i=[];if(c(e).isFunction()&&!this.isUndefinedOrNull()){var n,r,o,s,a=Array.prototype.splice,u=void 0===this.val().length||void 0===this.val().length&&this.isFunction();if(t){if(o=t.length,u){for(n in this.val())if(a.call(t,o,o,n),s=e.apply(c(this.val()[n]),t),i.push(s),!1===s)break;return this}for(r=0;r<this.val().length&&(a.call(t,o,o,r),s=e.apply(c(this.val()[r]),t),i.push(s),!1!==s);r++);return this}if(u){for(n in this.val())if(s=e.call(c(this.val()[n]),n),i.push(s),!1===s)break;return this}for(r=0;r<this.val().length&&(s=e.call(c(this.val()[r]),r),i.push(s),!1!==s);r++);}return i4t(i)},stringify:function(){if("json"===c(window.JSON).type()&&c(window.JSON.stringify).isFunction()&&!this.isElement())return window.JSON.stringify(this.val());var e,t,i=[],n=this.isArray();if(this.isString()||this.isNumber()||this.isBoolean()||this.isRegExp()||null===this.val())return e=this.val(),this.isString()&&(e='"'+this.val()+'"'),new String(e);for(t in this.val())this.val().hasOwnProperty(t)&&((e=c(this.val()[t])).isUndefinedOrNull()||e.isFunction()||(e=e.stringify(),i.push((n?"":'"'+t+'":')+String(e))));return(n?"[":"{")+String(i)+(n?"]":"}")}}).extend=c.extend=function(){var e,t,i,n,r=arguments[0]||{},o=1,s=arguments.length,a=!1;for("boolean"==typeof r&&(a=r,r=arguments[1]||{},o=2),"object"==typeof r||c(r).isFunction()||(r={}),s===o&&(r=this,--o);o<s;o++)if(null!==(e=arguments[o]))for(t in e)n=r[t],r!==(i=e[t])&&(a&&i&&(c(i).isPlainObject()||c(i).isArray())?(n=c(i).isArray()?n&&c(n).isArray()?n:[]:n&&c(n).isPlainObject()?n:{},r[t]=c.extend(a,n,i)):void 0!==i&&(r[t]=i));return r},c.extend(function(){var s={},a=null;try{(a=new Worker("data:text/javascript;charset=UTF-8,onmessage%3D"+encodeURIComponent(function(e){var t=e.data.code.replace(/^function[^\{]+/i,""),i=/^function[^\(]*\(([^\)]*)\)[^\{]*.*/gi.exec(e.data.code),i=i&&0<i.length?i[1]:"";postMessage({id:e.data.id,returned:new Function(i,t).apply(this,e.data.args)})}.toString()))).onmessage=function(e){s[e.data.id]&&s[e.data.id](e.data.returned),delete s[e.data.id]}}catch(e){}return{version:"8.2.4-350",beIframe:function(){return window.top!==window.self},execute:function(e,t){var i=Array.prototype.slice.call(arguments,2);return i4t(e).isNullOrEmptyString()||!/\S/.test(e)?null:(i4t(t).isUndefinedOrNull()&&(t=this),new Function(e).apply(t,i))},generateUUID:function(){var i=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(i+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===e?t:3&t|8).toString(16)})},md5:function(e){function d(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function a(e,t,i,n,r,o){return d((o=d(d(t,e),d(n,o)))<<(r=r)|o>>>32-r,i)}function h(e,t,i,n,r,o,s){return a(t&i|~t&n,e,t,r,o,s)}function f(e,t,i,n,r,o,s){return a(t&n|i&~n,e,t,r,o,s)}function p(e,t,i,n,r,o,s){return a(t^i^n,e,t,r,o,s)}function y(e,t,i,n,r,o,s){return a(i^(t|~n),e,t,r,o,s)}function t(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var i,n,r,o,s=1732584193,a=-271733879,u=-1732584194,c=271733878,l=0;l<e.length;l+=16)s=h(i=s,n=a,r=u,o=c,e[l],7,-680876936),c=h(c,s,a,u,e[l+1],12,-389564586),u=h(u,c,s,a,e[l+2],17,606105819),a=h(a,u,c,s,e[l+3],22,-1044525330),s=h(s,a,u,c,e[l+4],7,-176418897),c=h(c,s,a,u,e[l+5],12,1200080426),u=h(u,c,s,a,e[l+6],17,-1473231341),a=h(a,u,c,s,e[l+7],22,-45705983),s=h(s,a,u,c,e[l+8],7,1770035416),c=h(c,s,a,u,e[l+9],12,-1958414417),u=h(u,c,s,a,e[l+10],17,-42063),a=h(a,u,c,s,e[l+11],22,-1990404162),s=h(s,a,u,c,e[l+12],7,1804603682),c=h(c,s,a,u,e[l+13],12,-40341101),u=h(u,c,s,a,e[l+14],17,-1502002290),s=f(s,a=h(a,u,c,s,e[l+15],22,1236535329),u,c,e[l+1],5,-165796510),c=f(c,s,a,u,e[l+6],9,-1069501632),u=f(u,c,s,a,e[l+11],14,643717713),a=f(a,u,c,s,e[l],20,-373897302),s=f(s,a,u,c,e[l+5],5,-701558691),c=f(c,s,a,u,e[l+10],9,38016083),u=f(u,c,s,a,e[l+15],14,-660478335),a=f(a,u,c,s,e[l+4],20,-405537848),s=f(s,a,u,c,e[l+9],5,568446438),c=f(c,s,a,u,e[l+14],9,-1019803690),u=f(u,c,s,a,e[l+3],14,-187363961),a=f(a,u,c,s,e[l+8],20,1163531501),s=f(s,a,u,c,e[l+13],5,-1444681467),c=f(c,s,a,u,e[l+2],9,-51403784),u=f(u,c,s,a,e[l+7],14,1735328473),s=p(s,a=f(a,u,c,s,e[l+12],20,-1926607734),u,c,e[l+5],4,-378558),c=p(c,s,a,u,e[l+8],11,-2022574463),u=p(u,c,s,a,e[l+11],16,1839030562),a=p(a,u,c,s,e[l+14],23,-35309556),s=p(s,a,u,c,e[l+1],4,-1530992060),c=p(c,s,a,u,e[l+4],11,1272893353),u=p(u,c,s,a,e[l+7],16,-155497632),a=p(a,u,c,s,e[l+10],23,-1094730640),s=p(s,a,u,c,e[l+13],4,681279174),c=p(c,s,a,u,e[l],11,-358537222),u=p(u,c,s,a,e[l+3],16,-722521979),a=p(a,u,c,s,e[l+6],23,76029189),s=p(s,a,u,c,e[l+9],4,-640364487),c=p(c,s,a,u,e[l+12],11,-421815835),u=p(u,c,s,a,e[l+15],16,530742520),s=y(s,a=p(a,u,c,s,e[l+2],23,-995338651),u,c,e[l],6,-198630844),c=y(c,s,a,u,e[l+7],10,1126891415),u=y(u,c,s,a,e[l+14],15,-1416354905),a=y(a,u,c,s,e[l+5],21,-57434055),s=y(s,a,u,c,e[l+12],6,1700485571),c=y(c,s,a,u,e[l+3],10,-1894986606),u=y(u,c,s,a,e[l+10],15,-1051523),a=y(a,u,c,s,e[l+1],21,-2054922799),s=y(s,a,u,c,e[l+8],6,1873313359),c=y(c,s,a,u,e[l+15],10,-30611744),u=y(u,c,s,a,e[l+6],15,-1560198380),a=y(a,u,c,s,e[l+13],21,1309151649),s=y(s,a,u,c,e[l+4],6,-145523070),c=y(c,s,a,u,e[l+11],10,-1120210379),u=y(u,c,s,a,e[l+2],15,718787259),a=y(a,u,c,s,e[l+9],21,-343485551),s=d(s,i),a=d(a,n),u=d(u,r),c=d(c,o);return[s,a,u,c]}function i(e){for(var t="",i=32*e.length,n=0;n<i;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function n(e){var t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;for(var i=8*e.length,n=0;n<i;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}return function(e){for(var t,i="0123456789abcdef",n="",r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+=i.charAt(t>>>4&15)+i.charAt(15&t);return n}(i(t(n(r=unescape(encodeURIComponent(e))),8*r.length)));var r},asyncExecute:function(e,t,i){var n=i4t(t).isArray()?t:[],i=i4t(t).isFunction()?t:i,r=i4t(e).isFunction()?e.toString():null,o=i4t.generateUUID();if(i4t(r).isNullOrEmptyString()||!/\S/.test(r))return i(null);i4t(a).isUndefinedOrNull()?i(e.apply(this,t)):(s[o]=i||null,a.postMessage({id:o,code:r,args:n}))}}}()),"%24%7Bfrontend.version%7D"===encodeURIComponent(c.version)&&(e=(new Date).getTime().toString(),c.version=e.substring(0,2)+"."+e.substring(2,4)+"."+e.substring(4,6)+"-SNAPSHOT"+e.substring(6)),c(window.i4t).isFunction()||(window.i4t=c)}(),i4t.extend({array:{first:function(){return 0===this.val().length?null:this.val()[0]},last:function(){return 0===this.val().length?null:this.val()[this.val().length-1]},indexOf:function(e,t){if(Array.prototype.indexOf&&i4t(t).isUndefinedOrNull())return this.val().indexOf(e);var i;for(i4t(t).isUndefinedOrNull()&&(t=function(e,t){return e===t}),i=0;i<this.val().length;i++)if(t(this.val()[i],e))return i;return-1},merge:function(e){if(i4t(e).isArray()){for(var t=this.val(),i=t.length,n=0;n<e.length;n++)(this.indexOf(e[n])<0||i4t(this.indexOf(e[n])).isUndefinedOrNull())&&(t[i++]=e[n]);t.length=i}return this},clone:function(){var e=[];return this.each(function(){e.push(this.val())}),i4t(e)},length:function(){return this.val().length},push:function(e){this.val().push(e)},remove:function(e){return this.val().splice(e,1)},move:function(e,t){return this.val().splice(t,0,this.val().splice(e,1)[0])},sort:function(e){return i4t(this.val().sort(e))}}}),function(){function i(e,t){for(var i,n,r,o,s=e,a=e.parentNode;9!==a.nodeType;){if(o=s.tagName.toLowerCase(),r=i4t(s).offset(),"0"===l(s,"opacity")||"none"===l(s,"display")||"hidden"===l(s,"visibility"))return!1;if(r.width<=0&&r.height<=0&&"strong"!==o&&"small"!==o&&"a"!==o&&"span"!==o)return!1;if(n=l(s,"overflow"),("hidden"===n||"auto"===n)&&(t.left<r.left||t.left>=r.left+r.width||t.top<r.top||t.top>=r.top+r.height))return!1;if("fixed"===(i=l(s,"position")))return!0;if(o=i4t(function(e){var t=e;do{if("relative"===l(t,"position"))return t}while(9!==(t=t.parentNode).nodeType);return null}(a)),"absolute"===i)return!o.isElement()||!!o.isVisible()&&("hidden"!==(n=l(o.val(),"overflow"))&&"auto"!==n||(r=o.offset(),!(t.left<r.left||t.left>=r.left+r.width||t.top<r.top||t.top>=r.top+r.height)));if(("right"===(r=l(s,"float"))||"left"===r)&&o.isUndefinedOrNull())return!0;a=(s=a).parentNode}return!0}function e(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function n(e){var t=window.document.documentElement,e=e.getBoundingClientRect();return{top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width+t.scrollWidth-(t.clientWidth||0),height:e.height+t.scrollHeight-(t.clientHeight||0)}}function r(){var e=window.document.documentElement,t=n(document.body);return{top:0<t.top?t.top:0,left:0<t.left?t.left:0,width:t.width>=e.clientWidth?t.width:e.clientWidth,height:t.height>=e.clientHeight?t.height:e.clientHeight}}function o(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(e,t){return(t+"").toUpperCase()})}var s,a,u,c,l;i4t.extend({element:(s=/^([\-+])=([\-+.\de]+)/,a=/^-?\d+(?:px)?$/i,u=/^-?\d/,c=/([A-Z]|^ms)/g,l=document.defaultView&&document.defaultView.getComputedStyle?function(e,t){var i,n,r;return t=t.replace(c,"-$1").toLowerCase(),i=(n=e.ownerDocument.defaultView)&&(r=n.getComputedStyle(e,null))&&""===(i=r.getPropertyValue(t))?e.style[t]:i}:document.documentElement.currentStyle?function(e,t){var i,n,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null===r&&o&&(n=o[t])&&(r=n),!a.test(r)&&u.test(r)&&(i=o.left,(n=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r||0,r=o.pixelLeft+"px",o.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}:function(e,t){return e.style[t]},{embed:function(e){if(i4t(e.height).isUndefinedOrNull()||i4t(e.width).isUndefinedOrNull()||i4t(e.data).isUndefinedOrNull())return null;var t={},i={};return i4t(this.val().attributes).each(function(){i[this.val().name]=this.val().value}),i4t(e).each(function(e){"params"!==e&&"flashvars"!==e&&(i[e]=this.val())}),i4t(e.params).isObject()&&i4t(e.params).each(function(e){t[e]=this.val()}),i4t(e.flashvars).isString()?t.flashvars=e.flashvars:(t.flashvars="",i4t(e.flashvars).each(function(e){i4t(t.flashvars).isNullOrEmptyString()||(t.flashvars+="&"),t.flashvars+=e+"="+this.val()})),function(t,i){var n,r;if(i4t.userAgent.isIE&&i4t.userAgent.navVersion<11)return n='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"',i4t(t).each(function(e){"classid"!==e.toLowerCase()&&"data"!==e.toLowerCase()&&(n+=" "+e+'="'+t[e]+'"')}),n+='><param name="movie" value="'+t.data+'"/>',i4t(i).each(function(e){n+='><param name="'+e+'" value="'+i[e]+'"/>'}),n+="</object>",void(this.val().outerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"'+att+">"+par+"</object>");(n=i4t(document.createElement("object"))).attr("type","application/x-shockwave-flash"),i4t(t).each(function(e){"classid"!==e.toLowerCase()&&n.attr(e,this.val())}),i4t(i).each(function(e){"movie"===e.toLowerCase()||"wmode"===e.toLowerCase()&&!i4t.userAgent.isWin||((r=i4t(document.createElement("param"))).attr("name",e),r.attr("value",this.val()),n.append(r))}),this.replace(n)}.call(this,i,t),this},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},toggle:function(){return this["none"===this.style("display")?"show":"hide"]()},text:function(){return i4t(this.val().innerText).isNullOrEmptyString()?this.val().textContent:this.val().innerText},addClass:function(e){return this.hasClass(e)||(this.val().className+=(this.val().className?" ":"")+e),this},hasClass:function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(this.val().className)},removeClass:function(e){return this.hasClass(e)&&(this.val().className=this.val().className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "),this.val().className=i4t(this.val().className).trim().val()),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},previous:function(){var e=this.previousSibling();return e.isUndefinedOrNull()&&(e=i4t(this.val().parentNode).children().last()),i4t(e)},next:function(){var e=this.nextSibling();return e.isUndefinedOrNull()&&(e=i4t(this.val().parentNode).children().first()),i4t(e)},siblings:function(){for(var e=[],t=this.val().parentNode.firstChild;t;t=t.nextSibling)1===t.nodeType&&t!==this.val()&&e.push(t);return i4t(e)},previousSibling:function(){for(var e=this.val();e=e.previousSibling,e&&1!=e.nodeType;);return i4t(e)},nextSibling:function(){for(var e=this.val();e=e.nextSibling,e&&1!=e.nodeType;);return i4t(e)},children:function(){for(var e=[],t=this.val().firstChild;t;t=t.nextSibling)1===t.nodeType&&e.push(t);return i4t(e)},offset:function(){var e,t,i=this.val();return this.isInDOM()?(t=n(i),e=r(),{top:Math.round(t.top-e.top),left:Math.round(t.left-e.left),width:Math.round(i.offsetWidth),height:Math.round(i.offsetHeight)}):{top:-1,left:-1,width:0,height:0}},isVisible:function(){var e=this.offset(),t=r();return!(e.left<-t.left||e.top<-t.top||e.left>=t.width||e.top>=t.height)&&("a"===this.val().tagName.toLowerCase()&&1===this.children().length()&&("img"===(t=this.children().get(0)).tagName.toLowerCase()&&"0"!==l(t,"opacity")||"none"!==l(t,"display")||"hidden"!==l(t,"visibility"))||i(this.val(),e))},isFixed:function(){return!!e(this.val())&&function(e){var t=e;do{if("fixed"===l(t,"position"))return!0}while(9!==(t=t.parentNode).nodeType);return!1}(this.val())},isInDOM:function(){return e(this.val())},outerHTML:function(){if(this.val().outerHTML)return this.val().outerHTML;var e,t=document.createElement("div");return t.appendChild(this.clone().val()),e=t.innerHTML,t=null,e},getSelector:function(){var t=this.val().nodeName.toLowerCase().replace(":","|"),e=i4t(this.attr("id"));return t.match("^(body|html|head)$")||(e.isString()&&!e.isNullOrEmptyString()&&(t+="#"+e.trim().val().replace(/(\W)/g,"\\$1")),(e=i4t(this.attr("class"))).isString()&&!e.trim().isNullOrEmptyString()&&i4t(e.trim().val().split(" ")).each(function(){var e=this.val();/[A-Za-z_][A-Za-z0-9-_]*/.test(e)&&(t+="."+e.replace(/(\W)/g,"\\$1"))})),t},cssPath:function(){for(var e,t,i=[],n=this;n.isElement();){var r=n.val(),o=n.getSelector(),s=i4t(r.parentNode);if(s.isElement()&&(!i4t.userAgent.isIE||8!==i4t.userAgent.navVersion)&&1<i4t(r.parentNode).findAll(s.getSelector()+" > "+o).length()){for(e=n.previousSibling(),t=1;e.isElement();)t++,e=e.previousSibling();o+=":nth-child("+t+")"}i.unshift(o),n=i4t(r.parentNode)}return i.join(" > ")},find:function(i){var e=null;try{e=this.val().querySelector(i)}catch(t){try{e=(e=i4t(d(i,this.val()))).isArray()?e.first():null}catch(e){i4t.logger.error("[querySelector] No se ha podido ejecutar el selector: "+i,t),i4t.logger.error("[Sizzle] No se ha podido ejecutar el selector: "+i,e)}}return i4t(e)},findAll:function(i){var e,t,n=[];try{for(e=this.val().querySelectorAll(i),t=0;t<e.length;t++)n.push(e[t])}catch(t){try{n=d(i,this.val())}catch(e){i4t.logger.error("[querySelectorAll] No se ha podido ejecutar el selector: "+i,t),i4t.logger.error("[Sizzle] No se ha podido ejecutar el selector: "+i,e)}}return i4t(n)},clone:function(){try{return i4t(this.val().cloneNode(!0))}catch(e){var t=document.createElement("DIV");return t.innerHTML=this.val().outerHTML,t=i4t(t).children().val()[0],i4t.logger.info("Se lanza el cloneNode eventual: "+e),i4t(t)}},style:function(t,i){var e,n=this.val();if(3===n.nodeType||8===n.nodeType||!n.style)return this;if(i=i4t(i),t=o(t),i.isUndefinedOrNull())return this.css(t);(i=i.isString()&&(e=s.exec(i.val()))?i4t(+(e[1]+1)*+e[2]+parseFloat(n.style[t])):i).isNumber()&&!{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}[t]&&(i=i4t(i.val()+"px"));try{n.style[t]=i.val()}catch(e){i4t.logger.trace("No se ha podido setear el estilo: "+t+", value: "+i.val(),ex)}return this},css:function(e){if(i4t(e).isNullOrEmptyString())return"";e=o(e);var t=l(this.val(),e);if("transform"===e&&i4t(t).isNullOrEmptyString()){function i(e,t){return e=o(e),l(t,e)}t=i("-moz-"+e,this.val());if(!i4t(t).isNullOrEmptyString())return t;if(t=i("-webkit-"+e,this.val()),!i4t(t).isNullOrEmptyString())return t;if(t=i("-ms-"+e,this.val()),!i4t(t).isNullOrEmptyString())return t;if(t=i("-o-"+e,this.val()),!i4t(t).isNullOrEmptyString())return t}return t},attr:function(e,t){var i=this.val();if(!this.isElement())return this;if((t=i4t(t)).isUndefinedOrNull())return i.getAttribute(e);if(t=""+t.val(),i.getAttribute(e)!==t)try{i.setAttribute(e,t)}catch(e){}return this},removeAttr:function(e){var t=this.val();if(this.isElement())try{t.removeAttribute(e)}catch(e){}return this},html:function(e){var t=this.val();return this.isElement()?(e=i4t(e)).isUndefinedOrNull()?t.innerHTML:(t.innerHTML=""+e.val(),this):this},append:function(e){e=i4t(e);var t=this;if(e.isElement())return t.val().appendChild(e.val()),e;if(e.isString()){var i=i4t([]),n=i4t(document.createElement("div"));return n.html(e.val()),n.children().each(function(){i.push(this),t.append(this)}),1===i.length()?i4t(i.first()):i}return this},prepend:function(e){e=i4t(e);var t=this;if(e.isElement())return 0<this.val().children.length?t.val().insertBefore(e.val(),this.val().children[0]):t.append(e.val()),e;if(e.isString()){var i=i4t([]),n=i4t(document.createElement("div"));return n.html(e.val()),n.children().each(function(){i.push(this),t.prepend(this)}),1===i.length()?i4t(i.first()):i}return this},remove:function(e){(e=i4t(e)).isElement()?this.val().removeChild(e.val()):i4t(this.val().parentNode).isElement()&&this.val().parentNode.removeChild(this.val())},before:function(e){e=i4t(e);var t=this;if(e.isElement())return i4t(this.val().parentNode).isElement()&&this.val().parentNode.insertBefore(e.val(),this.val()),e;if(e.isString()){var i=i4t([]),n=i4t(document.createElement("div"));return n.html(e.val()),n.children().each(function(){i.push(this),t.before(this)}),1===i.length()?i4t(i.first()):i}return this},after:function(e){e=i4t(e);var t=this;if(e.isElement())return t.parent().val().insertBefore(e.val(),t.val().nextSibling),e;if(e.isString()){var i=i4t([]),n=i4t(document.createElement("div"));return n.html(e.val()),n.children().each(function(){i.push(this),t.after(this)}),1===i.length()?i4t(i.first()):i}return this},replace:function(e){return(e=i4t(e)).isElement()&&this.val().parentNode&&(this.val().parentNode.replaceChild(e.val(),this.val()),this.val(e.val())),this},parent:function(){return i4t(this.val().parentNode)},wrap:function(e){return(e=this.before(e)).isElement()?(e.append(this),e):null},unwrap:function(){var e=this;this.children().each(function(){e.before(this)}),this.remove()},zIndex:function(){for(var e,t=0,i=this;i.isElement();)e=parseInt(i.css("z-index"),10),!isNaN(e)&&t<e&&(t=e),i=i.parent();return t}})}),i4t.extend({findAll:function(e){return i4t(document).findAll(e)},find:function(e){return i4t(document).find(e)}});var d=function(){function d(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function i(){E()}var e,f,k,o,n,p,h,y,b,u,c,E,C,r,S,m,s,a,g,x="sizzle"+ +new Date,v=window.document,N=0,w=0,l=oe(),A=oe(),O=oe(),T=function(e,t){return e===t&&(c=!0),0},I={}.hasOwnProperty,t=[],_=t.pop,R=t.push,F=t.push,L=t.slice,D=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",K="\\["+P+"*("+U+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+P+"*\\]",V=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+K+")*)|.*)\\)|)",B=new RegExp(P+"+","g"),H=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),j=new RegExp("^"+P+"*,"+P+"*"),q=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),z=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),W=new RegExp(V),$=new RegExp("^"+U+"$"),G={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,ee=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{F.apply(t=L.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){F={apply:t.length?function(e,t){R.apply(e,L.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function re(e,t,i,n){var r,o,s,a,u,c,l,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return i;if(!n&&((t?t.ownerDocument||t:v)!==C&&E(t),t=t||C,S)){if(11!==h&&(u=Z.exec(e)))if(r=u[1]){if(9===h){if(!(s=t.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(d&&(s=d.getElementById(r))&&g(t,s)&&s.id===r)return i.push(s),i}else{if(u[2])return F.apply(i,t.getElementsByTagName(e)),i;if((r=u[3])&&f.getElementsByClassName&&t.getElementsByClassName)return F.apply(i,t.getElementsByClassName(r)),i}if(f.qsa&&!O[e+" "]&&(!m||!m.test(e))){if(1!==h)d=t,l=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))&&(a=a.replace(te,ie)),o=(c=p(e)).length;o--;)c[o]=(a?"#"+a+" ":"")+pe(c[o]);l=c.join(","),d=Q.test(e)&&he(t.parentNode)||t}if(l)try{return F.apply(i,d.querySelectorAll(l)),i}catch(e){}}}return y(e.replace(H,"$1"),t,i,n)}function oe(){var i=[];function n(e,t){return i.push(e+" ")>k.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function se(e){return e[x]=!0,e}function ae(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var i=e.split("|"),n=i.length;n--;)k.attrHandle[i[n]]=t}function ce(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function le(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ne(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function de(s){return se(function(o){return o=+o,se(function(e,t){for(var i,n=s([],e.length,o),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=re.support={},n=re.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},E=re.setDocument=function(e){var t,e=e?e.ownerDocument||e:v;return e!==C&&9===e.nodeType&&e.documentElement&&(r=(C=e).documentElement,S=!n(C),v!==C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",i,!1):t.attachEvent&&t.attachEvent("onunload",i)),f.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=ae(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(C.getElementsByClassName),f.getById=ae(function(e){return r.appendChild(e).id=x,!C.getElementsByName||!C.getElementsByName(x).length}),f.getById?(k.filter.ID=function(e){var t=e.replace(ee,d);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&S){e=t.getElementById(e);return e?[e]:[]}}):(k.filter.ID=function(e){var t=e.replace(ee,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},k.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),k.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},k.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},s=[],m=[],(f.qsa=J.test(C.querySelectorAll))&&(ae(function(e){r.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]")}),ae(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=J.test(a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&ae(function(e){f.disconnectedMatch=a.call(e,"*"),a.call(e,"[s!='']:x"),s.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(r.compareDocumentPosition),g=t||J.test(r.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return c=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===i?e===C||e.ownerDocument===v&&g(v,e)?-1:t===C||t.ownerDocument===v&&g(v,t)?1:u?D(u,e)-D(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return c=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===C?-1:t===C?1:r?-1:o?1:u?D(u,e)-D(u,t):0;if(r===o)return ce(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ce(s[n],a[n]):s[n]===v?-1:a[n]===v?1:0}),C},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&E(e),t=t.replace(z,"='$1']"),f.matchesSelector&&S&&!O[t+" "]&&(!s||!s.test(t))&&(!m||!m.test(t)))try{var i=a.call(e,t);if(i||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<re(t,C,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==C&&E(e),g(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==C&&E(e);var i=k.attrHandle[t.toLowerCase()],i=i&&I.call(k.attrHandle,t.toLowerCase())?i(e,t,!S):void 0;return void 0!==i?i:f.attributes||!S?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},re.escape=function(e){return(e+"").replace(te,ie)},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],n=0,r=0;if(c=!f.detectDuplicates,u=!f.sortStable&&e.slice(0),e.sort(T),c){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return u=null,e},o=re.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(k=re.selectors={cacheLength:50,createPseudo:se,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&W.test(i)&&(t=p(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=re.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(B," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(p,e,t,y,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),w="of-type"===e;return 1===y&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,r,o,s,a,u,c=g!=v?"nextSibling":"previousSibling",l=e.parentNode,d=w&&e.nodeName.toLowerCase(),h=!i&&!w,f=!1;if(l){if(g){for(;c;){for(s=e;s=s[c];)if(w?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;u=c="only"===p&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&h){for(f=(a=(n=(r=(o=(s=l)[x]||(s[x]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===N&&n[1])&&n[2],s=a&&l.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||u.pop();)if(1===s.nodeType&&++f&&s===e){r[p]=[N,a,f];break}}else if(!1===(f=h?a=(n=(r=(o=(s=e)[x]||(s[x]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]||[])[0]===N&&n[1]:f))for(;(s=++a&&s&&s[c]||(f=a=0)||u.pop())&&((w?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++f||(h&&((r=(o=s[x]||(s[x]={}))[s.uniqueID]||(o[s.uniqueID]={}))[p]=[N,f]),s!==e)););return(f-=m)===y||f%y==0&&0<=f/y}}},PSEUDO:function(e,o){var t,s=k.pseudos[e]||k.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return s[x]?s(o):1<s.length?(t=[e,e,"",o],k.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var i,n=s(e,o),r=n.length;r--;)e[i=D(e,n[r])]=!(t[i]=n[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:se(function(e){var n=[],r=[],a=h(e.replace(H,"$1"));return a[x]?se(function(e,t,i,n){for(var r,o=a(e,null,n,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,i){return n[0]=e,a(n,null,i,r),n[0]=null,!r.pop()}}),has:se(function(t){return function(e){return 0<re(t,e).length}}),contains:se(function(t){return t=t.replace(ee,d),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(i){return $.test(i||"")||re.error("unsupported lang: "+i),i=i.replace(ee,d).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:le(!1),disabled:le(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,i){return[i<0?i+t:i]}),even:de(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:de(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:de(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:de(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})k.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function fe(){}function pe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ye(s,e,t){var a=e.dir,u=e.next,c=u||a,l=t&&"parentNode"===c,d=w++;return e.first?function(e,t,i){for(;e=e[a];)if(1===e.nodeType||l)return s(e,t,i);return!1}:function(e,t,i){var n,r,o=[N,d];if(i){for(;e=e[a];)if((1===e.nodeType||l)&&s(e,t,i))return!0}else for(;e=e[a];)if(1===e.nodeType||l)if(n=(r=e[x]||(e[x]={}))[e.uniqueID]||(r[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[a]||e;else{if((r=n[c])&&r[0]===N&&r[1]===d)return o[2]=r[2];if((n[c]=o)[2]=s(e,t,i))return!0}return!1}}function me(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function ge(e,t,i,n,r){for(var o,s=[],a=0,u=e.length,c=null!=t;a<u;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),c&&t.push(a)));return s}function ve(f,p,y,m,g,e){return m&&!m[x]&&(m=ve(m)),g&&!g[x]&&(g=ve(g,e)),se(function(e,t,i,n){var r,o,s,a=[],u=[],c=t.length,l=e||function(e,t,i){for(var n=0,r=t.length;n<r;n++)re(e,t[n],i);return i}(p||"*",i.nodeType?[i]:i,[]),d=!f||!e&&p?l:ge(l,a,f,i,n),h=y?g||(e?f:c||m)?[]:t:d;if(y&&y(d,h,i,n),m)for(r=ge(h,u),m(r,[],i,n),o=r.length;o--;)(s=r[o])&&(h[u[o]]=!(d[u[o]]=s));if(e){if(g||f){if(g){for(r=[],o=h.length;o--;)(s=h[o])&&r.push(d[o]=s);g(null,h=[],r,n)}for(o=h.length;o--;)(s=h[o])&&-1<(r=g?D(e,s):a[o])&&(e[r]=!(t[r]=s))}}else h=ge(h===t?h.splice(c,h.length):h),g?g(null,t,h,n):F.apply(t,h)})}function we(m,g){function e(e,t,i,n,r){var o,s,a,u=0,c="0",l=e&&[],d=[],h=b,f=e||w&&k.find.TAG("*",r),p=N+=null==h?1:Math.random()||.1,y=f.length;for(r&&(b=t===C||t||r);c!==y&&null!=(o=f[c]);c++){if(w&&o){for(s=0,t||o.ownerDocument===C||(E(o),i=!S);a=m[s++];)if(a(o,t||C,i)){n.push(o);break}r&&(N=p)}v&&((o=!a&&o)&&u--,e&&l.push(o))}if(u+=c,v&&c!==u){for(s=0;a=g[s++];)a(l,d,t,i);if(e){if(0<u)for(;c--;)l[c]||d[c]||(d[c]=_.call(n));d=ge(d)}F.apply(n,d),r&&!e&&0<d.length&&1<u+g.length&&re.uniqueSort(n)}return r&&(N=p,b=h),l}var v=0<g.length,w=0<m.length;return v?se(e):e}return fe.prototype=k.filters=k.pseudos,k.setFilters=new fe,p=re.tokenize=function(e,t){var i,n,r,o,s,a,u,c=A[e+" "];if(c)return t?0:c.slice(0);for(s=e,a=[],u=k.preFilter;s;){for(o in i&&!(n=j.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(r=[])),i=!1,(n=q.exec(s))&&(i=n.shift(),r.push({value:i,type:n[0].replace(H," ")}),s=s.slice(i.length)),k.filter)!(n=G[o].exec(s))||u[o]&&!(n=u[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),s=s.slice(i.length));if(!i)break}return t?s.length:s?re.error(e):A(e,a).slice(0)},h=re.compile=function(e,t){var i,n=[],r=[],o=O[e+" "];if(!o){for(i=(t=t||p(e)).length;i--;)((o=function e(t){for(var n,i,r,o=t.length,s=k.relative[t[0].type],a=s||k.relative[" "],u=s?1:0,c=ye(function(e){return e===n},a,!0),l=ye(function(e){return-1<D(n,e)},a,!0),d=[function(e,t,i){return i=!s&&(i||t!==b)||((n=t).nodeType?c:l)(e,t,i),n=null,i}];u<o;u++)if(i=k.relative[t[u].type])d=[ye(me(d),i)];else{if((i=k.filter[t[u].type].apply(null,t[u].matches))[x]){for(r=++u;r<o&&!k.relative[t[r].type];r++);return ve(1<u&&me(d),1<u&&pe(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(H,"$1"),i,u<r&&e(t.slice(u,r)),r<o&&e(t=t.slice(r)),r<o&&pe(t))}d.push(i)}return me(d)}(t[i]))[x]?n:r).push(o);(o=O(e,we(r,n))).selector=e}return o},y=re.select=function(e,t,i,n){var r,o,s,a,u,c="function"==typeof e&&e,l=!n&&p(e=c.selector||e);if(i=i||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&S&&k.relative[o[1].type]){if(!(t=(k.find.ID(s.matches[0].replace(ee,d),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=G.needsContext.test(e)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((u=k.find[a])&&(n=u(s.matches[0].replace(ee,d),Q.test(o[0].type)&&he(t.parentNode)||t))){if(o.splice(r,1),!(e=n.length&&pe(o)))return F.apply(i,n),i;break}}return(c||h(e,l))(n,t,!S,i,!t||Q.test(e)&&he(t.parentNode)||t),i},f.sortStable=x.split("").sort(T).join("")===x,f.detectDuplicates=!!c,E(),f.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||ue(M,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),re}();i4t.selectors=d.selectors,i4t.selectors[":"]=i4t.selectors.pseudos,i4t.selectors.pseudos.hidden=function(e){return!i4t.selectors.pseudos.visible(e)},i4t.selectors.pseudos.visible=function(e){return i4t(e).isVisible()},i4t.selectors.pseudos.overflow=function(e){var t=i4t(e).css("overflow"),i=e.scrollHeight-e.clientHeight,e=e.scrollWidth-e.clientWidth;return("auto"===t||"scroll"===t)&&(10<i||10<e)}}(),function(){function o(e,t){this.style(e,t),this.style("-moz-"+e,t),this.style("-webkit-"+e,t),this.style("-ms-"+e,t),this.style("-o-"+e,t)}i4t.extend(i4t.element,{setEffects:function(e){var t;i4t(e).isObject()&&i4t(e.duration).isNumber()&&(t=i4t(e.properties).isNullOrEmptyString()?"transform, -moz-transform, -webkit-transform, -ms-transform, -o-transform, transform-origin, -moz-transform-origin, -webkit-transform-origin, -ms-transform-origin, -o-transform-origin":e.properties,o.call(this,"transition-property",t),o.call(this,"transition-duration",e.duration+"ms"),i4t(e.cubicBeizer).isNullOrEmptyString()||o.call(this,"transition-timing-function",e.cubicBeizer),i4t(e.delay).isNumber()&&o.call(this,"transition-delay",e.delay+"ms"))},removeEffects:function(){o.call(this,"transition-property",""),o.call(this,"transition-duration",""),o.call(this,"transition-timing-function",""),o.call(this,"transition-delay","")},setScale:function(e){var t,i,n,r;i4t(e).isNumber()&&(1<arguments.length?2===arguments.length?n=i4t(arguments[1]).isNumber()?arguments[1]:(r=arguments[1],e):(n=arguments[1],r=arguments[2]):n=e,t=(t=new g).scale(e,n),i=parseFloat(this.css("width").replace("px","")),n=parseFloat(this.css("height").replace("px",""))*(n-1)/(2*n),0==(i=i*(e-1)/(2*e))&&0==n||(t=t.translate(i,n)),i4t(r).isObject()&&this.setEffects(r),o.call(this,"transform",t.toString(!0)))},setRotate:function(e,t){var i;i4t(e).isUndefinedOrNull()||(i=new g,i4t(t).isObject()&&this.setEffects(t),o.call(this,"transform",i.rotate(e.toString()).toString(!0)))},setTranslate:function(e){var t,i,n=new g;i4t(e).isNumber()&&(1<arguments.length?2===arguments.length?t=i4t(arguments[1]).isNumber()?arguments[1]:(i=arguments[1],e):(t=arguments[1],i=arguments[2]):t=e,n=n.translate(e,t),i4t(i).isObject()&&this.setEffects(i),o.call(this,"transform",n.toString(!0)))},removeTransform:function(){(function(e,t){this.style(e,t),this.style("-moz-"+e,t),this.style("-webkit-"+e,t),this.style("-ms-"+e,t),this.style("-o-"+e,t)}).call(this,"transform","")}});var g=function(){var e=[].slice.call(arguments),t=this;if(e.length)for(var i=e.length;i--;)Math.abs(e[i])<g.SMALL_NUMBER&&(e[i]=0);if(t.setIdentity(),16==e.length)t.m11=t.a=e[0],t.m12=t.b=e[1],t.m13=e[2],t.m14=e[3],t.m21=t.c=e[4],t.m22=t.d=e[5],t.m23=e[6],t.m24=e[7],t.m31=e[8],t.m32=e[9],t.m33=e[10],t.m34=e[11],t.m41=t.e=e[12],t.m42=t.f=e[13],t.m43=e[14],t.m44=e[15];else if(6==e.length)this.affine=!0,t.m11=t.a=e[0],t.m12=t.b=e[1],t.m14=t.e=e[4],t.m21=t.c=e[2],t.m22=t.d=e[3],t.m24=t.f=e[5];else if(1===e.length&&"string"==typeof e[0])t.setMatrixValue(e[0]);else if(0<e.length)throw new TypeError("Invalid Matrix Value")};g.SMALL_NUMBER=1e-6,g.Rotate=function(e,t,i){e*=Math.PI/180,t*=Math.PI/180,i*=Math.PI/180;var n=Math.cos(e),r=-Math.sin(e),o=Math.cos(t),s=-Math.sin(t),e=Math.cos(i),t=-Math.sin(i),i=new g;return i.m11=i.a=o*e,i.m12=i.b=-o*t,i.m13=s,i.m21=i.c=r*s*e+n*t,i.m22=i.d=n*e-r*s*t,i.m23=-r*o,i.m31=r*t-n*s*e,i.m32=r*e+n*s*t,i.m33=n*o,i},g.RotateAxisAngle=function(e,t,i,n){n*=Math.PI/360;var r=Math.sin(n),o=Math.cos(n),s=r*r,a=Math.sqrt(e*e+t*t+i*i);0===a?(t=e=0,i=1):(e/=a,t/=a,i/=a);var u=e*e,c=t*t,n=i*i,a=new g;return a.m11=a.a=1-2*(c+n)*s,a.m12=a.b=2*(e*t*s+i*r*o),a.m13=2*(e*i*s-t*r*o),a.m21=a.c=2*(t*e*s-i*r*o),a.m22=a.d=1-2*(n+u)*s,a.m23=2*(t*i*s+e*r*o),a.m31=2*(i*e*s+t*r*o),a.m32=2*(i*t*s-e*r*o),a.m33=1-2*(u+c)*s,a.m14=a.m24=a.m34=0,a.m41=a.e=a.m42=a.f=a.m43=0,a.m44=1,a},g.ScaleX=function(e){var t=new g;return t.m11=t.a=e,t},g.ScaleY=function(e){var t=new g;return t.m22=t.d=e,t},g.ScaleZ=function(e){var t=new g;return t.m33=e,t},g.Scale=function(e,t,i){var n=new g;return n.m11=n.a=e,n.m22=n.d=t,n.m33=i,n},g.SkewX=function(e){e*=Math.PI/180;var t=new g;return t.m21=t.c=Math.tan(e),t},g.SkewY=function(e){e*=Math.PI/180;var t=new g;return t.m12=t.b=Math.tan(e),t},g.Translate=function(e,t,i){var n=new g;return n.m41=n.e=e,n.m42=n.f=t,n.m43=i,n},g.multiply=function(e,t){var i=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41,n=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42,r=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43,o=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44,s=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41,a=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42,u=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43,c=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44,l=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41,d=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42,h=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43,f=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44,p=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41,y=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42,m=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43,e=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return new g(i,n,r,o,s,a,u,c,l,d,h,f,p,y,m,e)},g.prototype.setMatrixValue=function(e){e=String(e).trim();var t=this;if(t.setIdentity(),"none"==e)return t;var i,n,r=e.slice(0,e.indexOf("("));if("matrix3d"==r){for(n=(i=e.slice(9,-1).split(",")).length;n--;)i[n]=parseFloat(i[n]);t.m11=t.a=i[0],t.m12=t.b=i[1],t.m13=i[2],t.m14=i[3],t.m21=t.c=i[4],t.m22=t.d=i[5],t.m23=i[6],t.m24=i[7],t.m31=i[8],t.m32=i[9],t.m33=i[10],t.m34=i[11],t.m41=t.e=i[12],t.m42=t.f=i[13],t.m43=i[14],t.m44=i[15]}else{if("matrix"!=r)throw new TypeError("Invalid Matrix Value");for(t.affine=!0,n=(i=e.slice(7,-1).split(",")).length;n--;)i[n]=parseFloat(i[n]);t.m11=t.a=i[0],t.m12=t.b=i[2],t.m41=t.e=i[4],t.m21=t.c=i[1],t.m22=t.d=i[3],t.m42=t.f=i[5]}return t},g.prototype.multiply=function(e){return g.multiply(this,e)},g.prototype.inverse=function(){throw new Error("the inverse() method is not implemented (yet).")},g.prototype.translate=function(e,t,i){return null==i&&(i=0),g.multiply(this,g.Translate(e,t,i))},g.prototype.scale=function(e,t,i){return null==t&&(t=e),null==i&&(i=1),g.multiply(this,g.Scale(e,t,i))},g.prototype.rotate=function(e,t,i){return null==t&&(t=e),null==i&&(i=e),g.multiply(this,g.Rotate(e,t,i))},g.prototype.rotateAxisAngle=function(e,t,i,n){return null==t&&(t=e),null==i&&(i=e),g.multiply(this,g.RotateAxisAngle(e,t,i,n))},g.prototype.skewX=function(e){return g.multiply(this,g.SkewX(e))},g.prototype.skewY=function(e){return g.multiply(this,g.SkewY(e))},g.prototype.toString=function(e){var t=this;return this.affine||(this.affine=!!e),this.affine?"matrix("+[t.a,t.b,t.c,t.d,t.e,t.f].join(", ")+")":"matrix3d("+[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44].join(", ")+")"},g.prototype.setIdentity=function(){var e=this;return e.m11=e.a=1,e.m12=e.b=0,e.m13=0,e.m14=0,e.m21=e.c=0,e.m22=e.d=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=e.e=0,e.m42=e.f=0,e.m43=0,e.m44=1,this},g.prototype.transform=function(e){var t=this,i=t.m11*e.x+t.m12*e.y+t.m13*e.z+t.m14*e.w,n=t.m21*e.x+t.m22*e.y+t.m23*e.z+t.m24*e.w,r=t.m31*e.x+t.m32*e.y+t.m33*e.z+t.m34*e.w,t=t.m41*e.x+t.m42*e.y+t.m43*e.z+t.m44*e.w;return e.x=i/t,e.y=n/t,e.z=r/t,e},g.prototype.toFullString=function(){var e=this;return[[e.m11,e.m12,e.m13,e.m14].join(", "),[e.m21,e.m22,e.m23,e.m24].join(", "),[e.m31,e.m32,e.m33,e.m34].join(", "),[e.m41,e.m42,e.m43,e.m44].join(", ")].join("\n")}}(),i4t.extend({function:function(){var r=Array.prototype.slice;function i(e,t){for(var i=e.length,n=t.length;n--;)e[i+n]=t[n];return e}function o(e,t){return i(e=r.call(e,0),t)}return{argumentNames:function(){var e=this.val().toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]},bind:function(t){if(arguments.length<2&&i4t(t).isUndefined())return this.val();var i=this.val(),n=r.call(arguments,1);return function(){var e=o(n,arguments);return i.apply(t,e)}},curry:function(){if(!arguments.length)return this.val();var t=this.val(),i=r.call(arguments,0);return function(){var e=o(i,arguments);return t.apply(this.val(),e)}},delay:function(e){var t=this.val(),i=r.call(arguments,1);return window.setTimeout(function(){return t.apply(t,i)},1e3*e)},defer:function(){var e=i([1e-5],arguments);return this.delay.apply(this,e)}}}()}),i4t.extend({string:function(){var a={quot:34,amp:38,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:140,oelig:156,Scaron:138,scaron:154,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,"Rho ":929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:128,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int_:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,grave:96};return{trim:function(){return this.val(this.val().replace(/\s\s+/gm," ").replace(/^\s+/g,"").replace(/\s+$/g,"")),this},clone:function(){return i4t(this.val().toString())},startsWith:function(e){return this.val().slice(0,e.length)===e},endsWith:function(e){return this.val().slice(this.val().length-e.length)===e},toJSON:function(){var e;if(this.isNullOrEmptyString())return null;if(e=this.trim().val(),!/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))throw new Error("Este string no es un JSON válido: "+e);return window.JSON&&window.JSON.parse&&"json"===i4t(window.JSON).type()?window.JSON.parse(e):new Function("return "+e)()},HtmlDecode:function(){for(var e,t,i=this.val(),n="",r="",o="",s=0;s<i.length;s++)r=i.charAt(s),o=0<(t=s+1<i.length&&"&"===r?i.indexOf(";",s+1):-1)?i.substring(s,t+1):"",/&#0x|X\d+;/.test(o)&&(o=o.substring(2,o.length-1),r=String.fromCharCode(parseInt(o,16))),/&#\d+;/.test(o)&&(o=o.substring(2,o.length-1),r=String.fromCharCode(parseInt(o,10))),/&\w+;/.test(o)&&(e=o=o.replace(/\&(\w+)[;]/g,"$1"),r=(o=i4t(a[o])).isUndefinedOrNull()?e:String.fromCharCode(o.val())),s=0<t?t:s,n+=r;return this.val(n),this},makeType:function(){var t=this.val().toString();if(!isNaN(t)&&t.match(/^-?[0-9]+(\.[0-9]*)?/))return Number(t);switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return;default:try{return this.toJSON()}catch(e){return t}}},contains:function(e,t){return String.prototype.includes?String.prototype.includes.call(this.val(),e,t):!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.val().indexOf(e,t)}}}()}),i4t.extend({event:function(){function a(e){return 0===e.indexOf("on")?e.substring(2):e}function u(e){return i4t(e).isElement()?e:window}return{addObserver:function(i,n,r,e){if(i4t(n).isFunction()){var o,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,s={attributes:!0,childList:!0,characterData:!0,subtree:!0};return i4t(t).isUndefinedOrNull()?null:(o=new t(function(e){var t={element:i};i4t(n).isFunction()&&e.forEach(function(e){n.call(t,e,o)}),i4t(r).isFunction()&&r.call(t,o)}),i4t(e).isUndefinedOrNull()||i4t.extend(s,e),o.observe(u(i),s),o)}},addListener:function(e,t,i){return i4t(e).isNullOrEmptyString()||!i4t(t).isFunction()?null:u(i).addEventListener(a(e),t,!1)},removeListener:function(e,t,i){return i4t(e).isNullOrEmptyString()||!i4t(t).isFunction()?null:u(i).removeEventListener(a(e),t,!1)},dispatch:function(t,e,i){function n(e,t){return i4t(e).isNative()?e:t}var r,o=a(t),s={};switch(i4t.extend(s,i),i4t(s.cancelable).isBoolean()||(s.cancelable=!0),i4t(s.bubbles).isBoolean()||(s.bubbles=!0),o){case"animationend":case"animationiteration":case"animationstart":r=n(window.AnimationEvent,function(e,t){var i=document.createEvent("AnimationEvent");return i.initAnimationEvent(e,t.bubbles,t.cancelable,t.animationName,t.elapsedTime),i});break;case"copy":case"cut":case"paste":r=n(window.ClipboardEvent,function(e,t){var i=document.createEvent("ClipboardEvent");return i.initEvent(e,t.bubbles,t.cancelable),i});break;case"compositionstart":case"compositionupdate":case"compositionend":r=n(window.CompositionEvent,function(e,t){var i=document.createEvent("CompositionEvent");return i.initCompositionEvent(e,t.bubbles,t.cancelable,document.defaultView,t.data,t.locale),i});break;case"drag":case"dragend":case"dragenter":case"dragleave":case"dragover":case"dragstart":case"drop":r=n(window.DragEvent,function(e,t){var i=document.createEvent("DragEvent"),n=(t.detail,!!i4t(t.ctrlKey).isBoolean()&&t.ctrlKey),r=!!i4t(t.altKey).isBoolean()&&t.altKey,o=!!i4t(t.shiftKey).isBoolean()&&t.shiftKey,s=!!i4t(t.metaKey).isBoolean()&&t.metaKey,a=i4t(t.button).isNumber()?t.button:0;return i.initDragEvent(e,t.bubbles,t.cancelable,document.defaultView,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,n,r,o,s,a,t.relatedTarget,t.dataTransfer),i});break;case"blur":case"DOMFocusIn":case"DOMFocusOut":case"focus":case"focusin":case"focusout":r=n(window.FocusEvent,function(e,t){var i=document.createEvent("FocusEvent"),n=t.detail||0;return i.initUIEvent(e,t.bubbles,t.cancelable,document.defaultView,n),i.relatedTarget=t.relatedTarget,i});break;case"keydown":case"keypress":case"keyup":r=n(i4t.userAgent.isIE?window.KeyboardEvent:function(){},function(e,t){var i=document.createEvent("UIEvent"),n=t.detail||0;return i.initUIEvent(e,t.bubbles,t.cancelable,document.defaultView,n),i.keyCode=t.keyCode,i.which=t.which,i.ctrlKey=!!i4t(t.ctrlKey).isBoolean()&&t.ctrlKey,i.altKey=!!i4t(t.altKey).isBoolean()&&t.altKey,i.shiftKey=!!i4t(t.shiftKey).isBoolean()&&t.shiftKey,i.metaKey=!!i4t(t.metaKey).isBoolean()&&t.metaKey,i.key=t.key,i.code=t.code,i});break;case"message":case"messageerror":r=n(window.MessageEvent,function(e,t){var i=document.createEvent("MessageEvent");return i.initMessageEvent(e,t.bubbles,t.cancelable,t.data,t.origin,"",t.source),i});break;case"click":case"dblclick":case"mousedown":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"mouseup":case"contextmenu":case"show":r=n(window.MouseEvent,function(e,t){var i=document.createEvent("MouseEvent"),n=t.detail||0,r=!!i4t(t.ctrlKey).isBoolean()&&t.ctrlKey,o=!!i4t(t.altKey).isBoolean()&&t.altKey,s=!!i4t(t.shiftKey).isBoolean()&&t.shiftKey,a=!!i4t(t.metaKey).isBoolean()&&t.metaKey,u=i4t(t.button).isNumber()?t.button:0;return i.initMouseEvent(e,t.bubbles,t.cancelable,document.defaultView,n,t.screenX,t.screenY,t.clientX,t.clientY,r,o,s,a,u,t.relatedTarget),i});break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointerenter":case"pointerleave":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=n(window.PointerEvent,function(e,t){var i=document.createEvent("PointerEvent"),n=t.detail||0,r=!!i4t(t.ctrlKey).isBoolean()&&t.ctrlKey,o=!!i4t(t.altKey).isBoolean()&&t.altKey,s=!!i4t(t.shiftKey).isBoolean()&&t.shiftKey,a=!!i4t(t.metaKey).isBoolean()&&t.metaKey,u=i4t(t.button).isNumber()?t.button:0,c=i4t(t.pressure).isNumber()?t.pressure:0,l=i4t(t.rotation).isNumber()?t.rotation:0,d=i4t(t.pointerId).isNumber()?t.pointerId:0;return i.initPointerEvent(e,t.bubbles,t.cancelable,document.defaultView,n,t.screenX,t.screenY,t.clientX,t.clientY,r,o,s,a,u,t.relatedTarget,t.offsetX,t.offsetY,t.width,t.height,c,l,t.tiltX,t.tiltY,d,t.pointerType,t.hwTimestamp,t.isPrimary),i});break;case"resize":case"scroll":case"abort":case"error":case"select":case"load":case"unload":r=n(window.UIEvent,function(e,t){var i=document.createEvent("UIEvent");return i.initUIEvent(e,t.bubbles,t.cancelable,document.defaultView,0),i});break;case"touchstart":case"touchend":case"touchmove":case"touchenter":case"touchleave":case"touchcancel":r=n(window.TouchEvent,function(e,t){return document.createEvent("TouchEvent")});break;case"wheel":r=n(window.WheelEvent,function(e,t){return document.createEvent("WheelEvent")});break;case"input":r=n(window.InputEvent,function(e,t){return document.createEvent("InputEvent")});break;default:r=n(window.Event,function(e,t){var i=document.createEvent("Event");return i.initEvent(e,t.bubbles,t.cancelable),i})}try{return(r=new r(o,s)).insuitEvent=!0,i4t.extend(r,s),u(e).dispatchEvent(r)}catch(e){i4t.logger.warning("No se puede disparar el evento con código: "+t,e)}return!1}}}()}),i4t.extend({window:{addEventListener:function(e,t){return i4t.event.addListener(e,t,this.val())},dispatchEvent:function(e,t){return i4t.event.dispatch(e,this.val(),t)},removeEventListener:function(e,t){return i4t.event.removeListener(e,t,this.val())},addObserver:function(e,t,i){return i4t.event.addObserver(this.val(),e,t,i)}}}),i4t.extend(i4t.element,function(){var o={Backspace:{keydown:[{keyCode:8,key:"Backspace",which:8,code:"Backspace"}],keyup:[{keyCode:8,key:"Backspace",which:8,code:"Backspace"}]},Tab:{keydown:[{keyCode:9,key:"Tab",which:9,code:"Tab"}],keyup:[{keyCode:9,key:"Tab",which:9,code:"Tab"}]},NumpadEnter:{keydown:[{keyCode:13,key:"Enter",which:13,code:"NumpadEnter"}],keyup:[{keyCode:13,key:"Enter",which:13,code:"NumpadEnter"}]},ShiftRight:{keydown:[{keyCode:16,key:"Shift",which:16,code:"ShiftRight"}],keyup:[{keyCode:16,key:"Shift",which:16,code:"ShiftRight"}]},ControlRight:{keydown:[{keyCode:17,key:"Control",which:17,code:"ControlRight",ctrlKey:!0}],keyup:[{keyCode:17,key:"Control",which:17,code:"ControlRight",ctrlKey:!1}]},ControlLeft:{keydown:[{keyCode:17,key:"Control",which:17,code:"ControlLeft",ctrlKey:!0}],keyup:[{keyCode:17,key:"Control",which:17,code:"ControlLeft",ctrlKey:!1}]},AltRight:{keydown:[{keyCode:17,key:"Control",which:17,code:"ControlLeft",ctrlKey:!0},{keyCode:18,key:"AltGraph",which:18,code:"AltRight",altKey:!1}],keyup:[{keyCode:18,key:"AltGraph",which:18,code:"AltRight",altKey:!1},{keyCode:17,key:"Control",which:17,code:"ControlLeft",ctrlKey:!1}]},AltLeft:{keydown:[{keyCode:18,key:"Alt",which:18,code:"AltLeft",altKey:!0}],keyup:[{keyCode:18,key:"Alt",which:18,code:"AltLeft",altKey:!1}]},Pause:{keydown:[{keyCode:19,key:"Pause",which:19,code:"Pause"}],keyup:[{keyCode:19,key:"Pause",which:19,code:"Pause"}]},CapsLock:{keydown:[{keyCode:20,key:"CapsLock",which:20,code:"CapsLock"}],keyup:[{keyCode:20,key:"CapsLock",which:20,code:"CapsLock"}]},Escape:{keydown:[{keyCode:27,key:"Escape",which:27,code:"Escape"}],keyup:[{keyCode:27,key:"Escape",which:27,code:"Escape"}]},Space:{keydown:[{keyCode:32,key:" ",which:32,code:"Space"}],keyup:[{keyCode:32,key:" ",which:32,code:"Space"}]},PageUp:{keydown:[{keyCode:33,key:"PageUp",which:33,code:"PageUp"}],keyup:[{keyCode:33,key:"PageUp",which:33,code:"PageUp"}]},PageDown:{keydown:[{keyCode:34,key:"PageDown",which:34,code:"PageDown"}],keyup:[{keyCode:34,key:"PageDown",which:34,code:"PageDown"}]},End:{keydown:[{keyCode:35,key:"End",which:35,code:"End"}],keyup:[{keyCode:35,key:"End",which:35,code:"End"}]},Home:{keydown:[{keyCode:36,key:"Home",which:36,code:"Home"}],keyup:[{keyCode:36,key:"Home",which:36,code:"Home"}]},ArrowLeft:{keydown:[{keyCode:37,key:"ArrowLeft",which:37,code:"ArrowLeft"}],keyup:[{keyCode:37,key:"ArrowLeft",which:37,code:"ArrowLeft"}]},ArrowUp:{keydown:[{keyCode:38,key:"ArrowUp",which:38,code:"ArrowUp"}],keyup:[{keyCode:38,key:"ArrowUp",which:38,code:"ArrowUp"}]},ArrowRight:{keydown:[{keyCode:39,key:"ArrowRight",which:39,code:"ArrowRight"}],keyup:[{keyCode:39,key:"ArrowRight",which:39,code:"ArrowRight"}]},ArrowDown:{keydown:[{keyCode:40,key:"ArrowDown",which:40,code:"ArrowDown"}],keyup:[{keyCode:40,key:"ArrowDown",which:40,code:"ArrowDown"}]},PrintScreen:{keyup:[{keyCode:44,key:"PrintScreen",which:44,code:"PrintScreen"}]},Insert:{keydown:[{keyCode:45,key:"Insert",which:45,code:"Insert"}],keyup:[{keyCode:45,key:"Insert",which:45,code:"Insert"}]},Delete:{keydown:[{keyCode:46,key:"Delete",which:46,code:"Delete"}],keyup:[{keyCode:46,key:"Delete",which:46,code:"Delete"}]},Digit0:{keydown:[{keyCode:48,key:"0",which:48,code:"Digit0"}],keyup:[{keyCode:48,key:"0",which:48,code:"Digit0"}]},Digit1:{keydown:[{keyCode:49,key:"1",which:49,code:"Digit1"}],keyup:[{keyCode:49,key:"1",which:49,code:"Digit1"}]},Digit2:{keydown:[{keyCode:50,key:"2",which:50,code:"Digit2"}],keyup:[{keyCode:50,key:"2",which:50,code:"Digit2"}]},Digit3:{keydown:[{keyCode:51,key:"3",which:51,code:"Digit3"}],keyup:[{keyCode:51,key:"3",which:51,code:"Digit3"}]},Digit4:{keydown:[{keyCode:52,key:"4",which:52,code:"Digit4"}],keyup:[{keyCode:52,key:"4",which:52,code:"Digit4"}]},Digit5:{keydown:[{keyCode:53,key:"5",which:53,code:"Digit5"}],keyup:[{keyCode:53,key:"5",which:53,code:"Digit5"}]},Digit6:{keydown:[{keyCode:54,key:"6",which:54,code:"Digit6"}],keyup:[{keyCode:54,key:"6",which:54,code:"Digit6"}]},Digit7:{keydown:[{keyCode:55,key:"7",which:55,code:"Digit7"}],keyup:[{keyCode:55,key:"7",which:55,code:"Digit7"}]},Digit8:{keydown:[{keyCode:56,key:"8",which:56,code:"Digit8"}],keyup:[{keyCode:56,key:"8",which:56,code:"Digit8"}]},Digit9:{keydown:[{keyCode:57,key:"9",which:57,code:"Digit9"}],keyup:[{keyCode:57,key:"9",which:57,code:"Digit9"}]},KeyA:{keydown:[{keyCode:65,key:"a",which:65,code:"KeyA"}],keyup:[{keyCode:65,key:"a",which:65,code:"KeyA"}]},KeyB:{keydown:[{keyCode:66,key:"b",which:66,code:"KeyB"}],keyup:[{keyCode:66,key:"b",which:66,code:"KeyB"}]},KeyC:{keydown:[{keyCode:67,key:"c",which:67,code:"KeyC"}],keyup:[{keyCode:67,key:"c",which:67,code:"KeyC"}]},KeyD:{keydown:[{keyCode:68,key:"d",which:68,code:"KeyD"}],keyup:[{keyCode:68,key:"d",which:68,code:"KeyD"}]},KeyE:{keydown:[{keyCode:69,key:"e",which:69,code:"KeyE"}],keyup:[{keyCode:69,key:"e",which:69,code:"KeyE"}]},KeyF:{keydown:[{keyCode:70,key:"f",which:70,code:"KeyF"}],keyup:[{keyCode:70,key:"f",which:70,code:"KeyF"}]},KeyG:{keydown:[{keyCode:71,key:"g",which:71,code:"KeyG"}],keyup:[{keyCode:71,key:"g",which:71,code:"KeyG"}]},KeyH:{keydown:[{keyCode:72,key:"h",which:72,code:"KeyH"}],keyup:[{keyCode:72,key:"h",which:72,code:"KeyH"}]},KeyI:{keydown:[{keyCode:73,key:"i",which:73,code:"KeyI"}],keyup:[{keyCode:73,key:"i",which:73,code:"KeyI"}]},KeyJ:{keydown:[{keyCode:74,key:"j",which:74,code:"KeyJ"}],keyup:[{keyCode:74,key:"j",which:74,code:"KeyJ"}]},KeyK:{keydown:[{keyCode:75,key:"k",which:75,code:"KeyK"}],keyup:[{keyCode:75,key:"k",which:75,code:"KeyK"}]},KeyL:{keydown:[{keyCode:76,key:"l",which:76,code:"KeyL"}],keyup:[{keyCode:76,key:"l",which:76,code:"KeyL"}]},KeyM:{keydown:[{keyCode:77,key:"m",which:77,code:"KeyM"}],keyup:[{keyCode:77,key:"m",which:77,code:"KeyM"}]},KeyN:{keydown:[{keyCode:78,key:"n",which:78,code:"KeyN"}],keyup:[{keyCode:78,key:"n",which:78,code:"KeyN"}]},KeyO:{keydown:[{keyCode:79,key:"o",which:79,code:"KeyO"}],keyup:[{keyCode:79,key:"o",which:79,code:"KeyO"}]},KeyP:{keydown:[{keyCode:80,key:"p",which:80,code:"KeyP"}],keyup:[{keyCode:80,key:"p",which:80,code:"KeyP"}]},KeyQ:{keydown:[{keyCode:81,key:"q",which:81,code:"KeyQ"}],keyup:[{keyCode:81,key:"q",which:81,code:"KeyQ"}]},KeyR:{keydown:[{keyCode:82,key:"r",which:82,code:"KeyR"}],keyup:[{keyCode:82,key:"r",which:82,code:"KeyR"}]},KeyS:{keydown:[{keyCode:83,key:"s",which:83,code:"KeyS"}],keyup:[{keyCode:83,key:"s",which:83,code:"KeyS"}]},KeyT:{keydown:[{keyCode:84,key:"t",which:84,code:"KeyT"}],keyup:[{keyCode:84,key:"t",which:84,code:"KeyT"}]},KeyU:{keydown:[{keyCode:85,key:"u",which:85,code:"KeyU"}],keyup:[{keyCode:85,key:"u",which:85,code:"KeyU"}]},KeyV:{keydown:[{keyCode:86,key:"v",which:86,code:"KeyV"}],keyup:[{keyCode:86,key:"v",which:86,code:"KeyV"}]},KeyW:{keydown:[{keyCode:87,key:"w",which:87,code:"KeyW"}],keyup:[{keyCode:87,key:"w",which:87,code:"KeyW"}]},KeyX:{keydown:[{keyCode:88,key:"x",which:88,code:"KeyX"}],keyup:[{keyCode:88,key:"x",which:88,code:"KeyX"}]},KeyY:{keydown:[{keyCode:89,key:"y",which:89,code:"KeyY"}],keyup:[{keyCode:89,key:"y",which:89,code:"KeyY"}]},KeyZ:{keydown:[{keyCode:90,key:"z",which:90,code:"KeyZ"}],keyup:[{keyCode:90,key:"z",which:90,code:"KeyZ"}]},MetaLeft:{keydown:[{keyCode:91,key:"Meta",which:91,code:"MetaLeft",metaKey:!0}],keyup:[{keyCode:91,key:"Meta",which:91,code:"MetaLeft",metaKey:!1}]},MetaRight:{keydown:[{keyCode:92,key:"Meta",which:92,code:"MetaRight",metaKey:!0}],keyup:[{keyCode:92,key:"Meta",which:92,code:"MetaRight",metaKey:!1}]},ContextMenu:{keydown:[{keyCode:93,key:"ContextMenu",which:93,code:"ContextMenu"}],keyup:[{keyCode:93,key:"ContextMenu",which:93,code:"ContextMenu"}]},Numpad0:{keydown:[{keyCode:96,key:"0",which:96,code:"Numpad0"}],keypress:[{keyCode:48,key:"0",wich:48,code:""}],keyup:[{keyCode:96,key:"0",which:96,code:"Numpad0"}]},Numpad1:{keydown:[{keyCode:97,key:"1",which:97,code:"Numpad1"}],keypress:[{keyCode:49,key:"1",wich:49,code:""}],keyup:[{keyCode:97,key:"1",which:97,code:"Numpad1"}]},Numpad2:{keydown:[{keyCode:98,key:"2",which:98,code:"Numpad2"}],keypress:[{keyCode:50,key:"2",wich:50,code:""}],keyup:[{keyCode:98,key:"2",which:98,code:"Numpad2"}]},Numpad3:{keydown:[{keyCode:99,key:"3",which:99,code:"Numpad3"}],keypress:[{keyCode:51,key:"3",wich:51,code:""}],keyup:[{keyCode:99,key:"3",which:99,code:"Numpad3"}]},Numpad4:{keydown:[{keyCode:100,key:"4",which:100,code:"Numpad4"}],keypress:[{keyCode:52,key:"4",wich:52,code:""}],keyup:[{keyCode:100,key:"4",which:100,code:"Numpad4"}]},Numpad5:{keydown:[{keyCode:101,key:"5",which:101,code:"Numpad5"}],keypress:[{keyCode:53,key:"5",wich:53,code:""}],keyup:[{keyCode:101,key:"5",which:101,code:"Numpad5"}]},Numpad6:{keydown:[{keyCode:102,key:"6",which:102,code:"Numpad6"}],keypress:[{keyCode:54,key:"6",wich:54,code:""}],keyup:[{keyCode:102,key:"6",which:102,code:"Numpad6"}]},Numpad7:{keydown:[{keyCode:103,key:"7",which:103,code:"Numpad7"}],keypress:[{keyCode:55,key:"7",wich:55,code:""}],keyup:[{keyCode:103,key:"7",which:103,code:"Numpad7"}]},Numpad8:{keydown:[{keyCode:104,key:"8",which:104,code:"Numpad8"}],keypress:[{keyCode:56,key:"8",wich:56,code:""}],keyup:[{keyCode:104,key:"8",which:104,code:"Numpad8"}]},Numpad9:{keydown:[{keyCode:105,key:"9",which:105,code:"Numpad9"}],keypress:[{keyCode:57,key:"9",wich:57,code:""}],keyup:[{keyCode:105,key:"9",which:105,code:"Numpad9"}]},NumpadMultiply:{keydown:[{keyCode:106,key:"*",which:106,code:"NumpadMultiply"}],keyup:[{keyCode:106,key:"*",which:106,code:"NumpadMultiply"}]},NumpadAdd:{keydown:[{keyCode:107,key:"+",which:107,code:"NumpadAdd"}],keyup:[{keyCode:107,key:"+",which:107,code:"NumpadAdd"}]},NumpadSubtract:{keydown:[{keyCode:109,key:"-",which:109,code:"NumpadSubtract"}],keyup:[{keyCode:109,key:"-",which:109,code:"NumpadSubtract"}]},NumpadDecimal:{keydown:[{keyCode:110,key:".",which:110,code:"NumpadDecimal"}],keyup:[{keyCode:110,key:".",which:110,code:"NumpadDecimal"}]},NumpadDivide:{keydown:[{keyCode:111,key:"/",which:111,code:"NumpadDivide"}],keyup:[{keyCode:111,key:"/",which:111,code:"NumpadDivide"}]},F1:{keydown:[{keyCode:112,key:"F1",which:112,code:"F1"}],keyup:[{keyCode:112,key:"F1",which:112,code:"F1"}]},F2:{keydown:[{keyCode:113,key:"F2",which:113,code:"F2"}],keyup:[{keyCode:113,key:"F2",which:113,code:"F2"}]},F3:{keydown:[{keyCode:114,key:"F3",which:114,code:"F3"}],keyup:[{keyCode:114,key:"F3",which:114,code:"F3"}]},F4:{keydown:[{keyCode:115,key:"F4",which:115,code:"F4"}],keyup:[{keyCode:115,key:"F4",which:115,code:"F4"}]},F5:{keydown:[{keyCode:116,key:"F5",which:116,code:"F5"}],keyup:[{keyCode:116,key:"F5",which:116,code:"F5"}]},F6:{keydown:[{keyCode:117,key:"F6",which:117,code:"F6"}],keyup:[{keyCode:117,key:"F6",which:117,code:"F6"}]},F7:{keydown:[{keyCode:118,key:"F7",which:118,code:"F7"}],keyup:[{keyCode:118,key:"F7",which:118,code:"F7"}]},F8:{keydown:[{keyCode:119,key:"F8",which:119,code:"F8"}],keyup:[{keyCode:119,key:"F8",which:119,code:"F8"}]},F9:{keydown:[{keyCode:120,key:"F9",which:120,code:"F9"}],keyup:[{keyCode:120,key:"F9",which:120,code:"F9"}]},F10:{keydown:[{keyCode:121,key:"F10",which:121,code:"F10"}],keyup:[{keyCode:121,key:"F10",which:121,code:"F10"}]},F11:{keydown:[{keyCode:122,key:"F11",which:122,code:"F11"}],keyup:[{keyCode:122,key:"F11",which:122,code:"F11"}]},F12:{keydown:[{keyCode:123,key:"F12",which:123,code:"F12"}],keyup:[{keyCode:123,key:"F12",which:123,code:"F12"}]},NumLock:{keydown:[{keyCode:144,key:"NumLock",which:144,code:"NumLock"}],keyup:[{keyCode:144,key:"NumLock",which:144,code:"NumLock"}]},ScrollLock:{keydown:[{keyCode:145,key:"ScrollLock",which:145,code:"ScrollLock"}],keyup:[{keyCode:145,key:"ScrollLock",which:145,code:"ScrollLock"}]},BracketLeft:{keydown:[{keyCode:186,key:"Dead",which:186,code:"BracketLeft"}],keyup:[{keyCode:186,key:"Dead",which:186,code:"BracketLeft"}]},BracketRight:{keydown:[{keyCode:187,key:"+",which:187,code:"BracketRight"}],keyup:[{keyCode:187,key:"+",which:187,code:"BracketRight"}]},Comma:{keydown:[{keyCode:188,key:",",which:188,code:"Comma"}],keyup:[{keyCode:188,key:",",which:188,code:"Comma"}]},Slash:{keydown:[{keyCode:189,key:"-",which:189,code:"Slash"}],keyup:[{keyCode:189,key:"-",which:189,code:"Slash"}]},Period:{keydown:[{keyCode:190,key:".",which:190,code:"Period"}],keyup:[{keyCode:190,key:".",which:190,code:"Period"}]},Backslash:{keydown:[{keyCode:191,key:"ç",which:191,code:"Backslash"}],keyup:[{keyCode:191,key:"ç",which:191,code:"Backslash"}]},Semicolon:{keydown:[{keyCode:192,key:"ñ",which:192,code:"Semicolon"}],keyup:[{keyCode:192,key:"ñ",which:192,code:"Semicolon"}]},Minus:{keydown:[{keyCode:219,key:"'",which:219,code:"Minus"}],keypress:[{keyCode:39,key:"'",wich:39,code:""}],keyup:[{keyCode:219,key:"'",which:219,code:"Minus"}]},Backquote:{keydown:[{keyCode:220,key:"º",which:220,code:"Backquote"}],keypress:[{keyCode:186,key:"º",wich:186,code:""}],keyup:[{keyCode:220,key:"º",which:220,code:"Backquote"}]},Equal:{keydown:[{keyCode:221,key:"¡",which:221,code:"Equal"}],keypress:[{keyCode:161,key:"¡",wich:161,code:""}],keyup:[{keyCode:221,key:"¡",which:221,code:"Equal"}]},Quote:{keydown:[{keyCode:222,key:"Dead",which:222,code:"Quote"}],keyup:[{keyCode:222,key:"Dead",which:222,code:"Quote"}]},IntlBackslash:{keydown:[{keyCode:226,key:"<",which:226,code:"IntlBackslash"}],keyup:[{keyCode:226,key:"<",which:226,code:"IntlBackslash"}]}};function s(e,t){var i={composed:!0,cancelable:!0,bubbles:!0};return e=e||{},i4t.extend(i,e),i4t.extend(i,t),i}return{pressKey:function(e,t){if(i4t(e).isString()){var i,n,r=o[e];if(!i4t(r).isUndefinedOrNull()){if(r.keydown)for(i=0;i<r.keydown.length;i++)n=s(t,r.keydown[i]),i4t.event.dispatch("keydown",this.val(),n);if(r.keypress)for(i=0;i<r.keypress.length;i++)n=s(t,r.keypress[i]),i4t.event.dispatch("keypress",this.val(),n);if(r.keyup)for(i=0;i<r.keyup.length;i++)n=s(t,r.keyup[i]),i4t.event.dispatch("keyup",this.val(),n)}}},addEventListener:function(e,t){return i4t.event.addListener(e,t,this.val())},dispatchEvent:function(e,t){return i4t.event.dispatch(e,this.val(),t)},removeEventListener:function(e,t){return i4t.event.removeListener(e,t,this.val())},addObserver:function(e,t,i){return i4t.event.addObserver(this.val(),e,t,i)}}}()),function(){"use strict";var d,t;function u(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||r(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,e=t.width*t.height,t=this.intersectionRect,t=t.width*t.height;this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function e(e,t){var i,n,r,t=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(t.root&&1!=t.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r=r||setTimeout(function(){i(),r=null},n)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(t.rootMargin),this.thresholds=this._initThresholds(t.threshold),this.root=t.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function n(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function h(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?t.width&&t.height?t:{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}:r()}function r(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(e,t){for(var i=t;i;){if(i==e)return!0;i=f(i)}return!1}function f(e){e=e.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(d=window.document,t=[],e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){e=e||[0];return(e=!Array.isArray(e)?[e]:e).sort().filter(function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]})},e.prototype._parseRootMargin=function(e){e=(e||"0px").split(/\s+/).map(function(e){e=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(d,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(d,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(d,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),a=s?this._getRootRect():r();this._observationTargets.forEach(function(e){var t=e.element,i=h(t),n=this._rootContainsTarget(t),r=e.entry,o=s&&n&&this._computeTargetAndRootIntersection(t,a),o=e.entry=new u({time:window.performance&&performance.now&&performance.now(),target:t,boundingClientRect:i,rootBounds:a,intersectionRect:o});r?s&&n?this._hasCrossedThreshold(r,o)&&this._queuedEntries.push(o):r&&r.isIntersecting&&this._queuedEntries.push(o):this._queuedEntries.push(o)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=window.getComputedStyle(e).display){for(var i,n,r,o,s=h(e),a=f(e),u=!1;!u;){var c=null,l=1==a.nodeType?window.getComputedStyle(a):{};if("none"==l.display)return;if(a==this.root||a==d?(u=!0,c=t):a!=d.body&&a!=d.documentElement&&"visible"!=l.overflow&&(c=h(a)),c&&(i=c,n=s,c=l=o=r=void 0,r=Math.max(i.top,n.top),o=Math.min(i.bottom,n.bottom),l=Math.max(i.left,n.left),c=Math.min(i.right,n.right),n=o-r,!(s=0<=(i=c-l)&&0<=n&&{top:r,bottom:o,left:l,right:c,width:i,height:n})))break;a=f(a)}return s}},e.prototype._getRootRect=function(){var e,t;return t=this.root?h(this.root):(e=d.documentElement,t=d.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(t)},e.prototype._expandRectByRootMargin=function(i){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?i.width:i.height)/100}),e={top:i.top-e[0],right:i.right+e[1],bottom:i.bottom+e[2],left:i.left-e[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},e.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==i||o==n||o<i!=o<n)return!0}},e.prototype._rootIsInDom=function(){return!this.root||o(d,this.root)},e.prototype._rootContainsTarget=function(e){return o(this.root||d,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=e,window.IntersectionObserverEntry=u))}(),i4t.extend({logger:function(){var i=window.Map||(e.prototype.clear=function(){this._map={},this._keys=[],this.size=0},e.prototype.get=function(e){return this._map["map_"+e]},e.prototype.set=function(e,t){return this._map["map_"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this.size=this._keys.length,this},e.prototype.has=function(e){return 0<=this._keys.indexOf(e)},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return!(t<0)&&(delete this._map["map_"+e],this._keys.splice(t,1),this.size=this._keys.length,!0)},e.prototype.keys=function(){return{_keys:this._keys,_idx:0,next:function(){return this._idx<this._keys.length?{value:this._keys[this._idx++],done:!1}:{value:void 0,done:!0}}}},e.prototype.forEach=function(e,t){for(var i=0;i<this._keys.length;i++)e.call(t,this._map["map_"+this._keys[i]],this._keys[i],this)},e);function e(e){if(this.clear(),e)for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])}var n=0,r=1,o=2,s=3,t=4,a=[],u=new i,c=s,l=!1;function d(e){var t=e.msg;return i4t(e.stack).each(function(){t=t+"\n\t"+this.val()}),t}function h(e,t,i){var n=i4t(t).isUndefinedOrNull()?"":" { "+t.toString()+"}",r=e;i4t(r).isFunction()&&(r=e()),function(e,t){if(a.push(e),!i4t(window.console).isUndefinedOrNull()&&l){var i=d(e);switch(t){case"error":if(i4t(window.console.error).isFunction())return window.console.error(i);break;case"warn":case"warning":if(i4t(window.console.warn).isFunction())return window.console.warn(i);break;case"info":if(i4t(window.console.info).isFunction())return window.console.info(i)}i4t(window.console.log).isFunction()&&window.console.log(i)}}({msg:i.toUpperCase()+" ["+(new Date).toLocaleString()+"] "+r+n,stack:(t=t,i4t(t).isUndefinedOrNull()?[]:(t=!i4t(t).isUndefinedOrNull()&&(t.stack||t.stacktrace)||"",i4t(t).isNullOrEmptyString()?[]:i4t.userAgent.isMobile?t.split("@"):t.split("\n")))},i.toLowerCase())}function f(e,t,i){var n=u.get(e);i4t(n).isUndefinedOrNull()||(n.lastTime=Date.now(),e={time:(n.lastTime-i)/1e3,called:1},i=n.stack.get(t),i4t(i).isUndefinedOrNull()?n.stack.set(t,e):(i.time+=e.time,i.called++))}function p(i,e){var n=[];e.stack.forEach(function(e,t){e.method=t,e.code=i,n.push(e)}),console.table(n)}function y(e){if(i4t(e).isNullOrEmptyString())return"Se necesita un código de timer";var t=u.get(e),i=arguments[1]||arguments.callee.caller;return i4t(t).isUndefinedOrNull()?void 0:i4t(t.lastTime).isUndefinedOrNull()?"Se necesita arrancar el timer con startTime([code])":void f(e,i?i.name:"anonymous",t.lastTime)}return{config:function(e){i4t(e.active).isBoolean()&&(l=e.active),i4t(e.level).isString()&&function(){switch(e.level){case"OFF":c=t;break;case"ERROR":c=s;break;case"WARNING":c=o;break;case"INFO":c=r;break;case"TRACE":c=n;break;default:c=s}}()},get:function(){var e="";return i4t(a).each(function(){e+=d(this.val())+"\n"}),e},error:function(e,t){c<=s&&h(e,t,"ERROR")},warning:function(e,t){c<=o&&h(e,t,"WARNING")},info:function(e,t){c<=r&&h(e,t,"INFO")},trace:function(e,t){c<=n&&h(e,t,"TRACE")},isTraceEnabled:function(){return c<=n},isInfoEnabled:function(){return c<=r},isWarningEnabled:function(){return c<=o},isErrorEnabled:function(){return c<=s},time:y,startTime:function(e){if(i4t(e).isNullOrEmptyString())return"Se necesita un código de timer";var t=u.get(e);if(i4t(t).isUndefinedOrNull()&&(t={},u.set(e,t)),i4t(t.lastTime).isUndefinedOrNull())return t.stack=new i,t.lastTime=Date.now(),void(t.initTime=Date.now());y(e,arguments.callee.caller)},endTime:function(e){if(i4t(e).isNullOrEmptyString())return"Se necesita un código de timer";var t=u.get(e);i4t(t).isUndefinedOrNull()||(f(e,arguments.callee.caller.name,t.initTime),t.lastTime=null,t.initTime=null)},showTimeTable:function(e){var t;i4t(e).isNullOrEmptyString()?u.forEach(function(e,t){p(t,e)}):(t=u.get(e),i4t(t).isUndefinedOrNull()||p(e,t))}}}()}),i4t.extend({css:{addMeta:function(e,t){var i=document.createElement("meta");return i.name=e,i.content=t,i4t.find("head").append(i)},addLink:function(e,t){var i=document.createElement("link");return i.type="text/css",i.rel="stylesheet",i.charset="UTF-8",i.media="screen, print",i.href=e+(-1<e.indexOf("?")?"&":"?")+"V"+i4t.version,i=i4t.find("head").append(i),t||i.addClass("insuit-style"),i},addInlineStyle:function(e,t,i){var n=document.createElement("style"),r={type:"text/css",rel:"stylesheet",charset:"UTF-8",media:"screen, print"};return i4t(i).isUndefinedOrNull()||i4t.extend(r,i),i4t.extend(n,r),(n=i4t.find("head").append(n)).html(e),t||n.addClass("insuit-style"),n}},js:{addScript:function(e,t,i,n){var r=document.createElement("script");return r.type="text/javascript",t&&(r.async=!0),r=i4t.find("head").append(r),n&&i4t(n).isFunction()&&r.addEventListener("load",n),r.val().src=e+(-1<e.indexOf("?")?"&":"?")+"V"+i4t.version,i||r.addClass("insuit-script"),r},addInlineScript:function(e,t){var i=document.createElement("script");return i.type="text/javascript",(i=i4t.find("head").append(i)).html(e),t||i.addClass("insuit-script"),i}},color:function(){var n=Math.round,o=Math.min,s=Math.max;function a(e){return parseInt(e,16)}function u(e){return(299*(e=e).r+587*e.g+114*e.b)/1e3<128}function c(e){return!u(e)}function l(e){e=(i4t(e).startsWith("#")?function(e){e=i4t(e).trim().val();var t=0,i=0,n=0,r=255;return hexSimple=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})?$/,hexDoble=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?$/,matchSimple=hexSimple.exec(e),matchDoble=hexDoble.exec(e),matchSimple&&(t=a(matchSimple[1]+""+matchSimple[1]),i=a(matchSimple[2]+""+matchSimple[2]),n=a(matchSimple[3]+""+matchSimple[3]),matchSimple[4]&&(r=a(matchSimple[4]+""+matchSimple[4]))),matchDoble&&(t=a(matchDoble[1]),i=a(matchDoble[2]),n=a(matchDoble[3]),matchDoble[4]&&(r=a(matchDoble[4]))),{r:o(255,s(t,0)),g:o(255,s(i,0)),b:o(255,s(n,0)),a:o(255,s(r,0))}}:function(e){e=i4t(e).trim().val();var t=0,i=0,n=0,r=255;return match=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*(\d{1,3}))?\)$/.exec(e),match&&(t=parseInt(match[1],10),i=parseInt(match[2],10),n=parseInt(match[3],10),match[4]&&(r=parseInt(match[4],10))),{r:o(255,s(t,0)),g:o(255,s(i,0)),b:o(255,s(n,0)),a:o(255,s(r,0))}})(e);return{r:n(e.r),g:n(e.g),b:n(e.b),a:n(e.a)}}function d(e){return 255!==e.a?"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")":"rgb("+e.r+", "+e.g+", "+e.b+")"}function h(e){var t=(256+e.r).toString(16).toUpperCase().substring(1),i=(256+e.g).toString(16).toUpperCase().substring(1),n=(256+e.b).toString(16).toUpperCase().substring(1),e=(256+e.a).toString(16).toUpperCase().substring(1);return"#"+t+i+n+("FF"===e?"":e)}function f(e){return e.r=o(255,e.r+1),e.g=o(255,e.g+1),e.b=o(255,e.b+1),e}function p(e){return e.r=s(e.r-1,0),e.g=s(e.g-1,0),e.b=s(e.b-1,0),e}function y(e,t,i){i=i?3.1:4.6,e=r(e),t=r(t);return i<(Math.max(e,t)+.05)/(Math.min(e,t)+.05).toFixed(2)}function t(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function r(e){return.2126*t(e.r)+.7152*t(e.g)+.0722*t(e.b)}return{isAACompliant:y,getAAColors:function(e,t,i){var n=!1,r=!1,o=i4t(e),s=i4t(t);return o.isString()&&(n=i4t(e).startsWith("#"),e=l(e)),s.isString()&&(r=i4t(t).startsWith("#"),t=l(t)),{font:(n?h:d)((i=function e(t,i,n){if(y(t,i,n))return{font:t,background:i};if(u(i)||c(t))return t=f(t),i=p(i),e(t,i,n);i=f(i);t=p(t);return e(t,i,n)}(e,t,i)).font),background:(r?h:d)(i.background)}},changeLuminance:function(e,t){var i=l(e);return t=t||0,"#"+(e=function(e,t){t=o(255,s(e+e*t,0));return("00"+(t=n(t).toString(16))).substr(t.length)})(i.r,t)+e(i.g,t)+e(i.b,t)},hexToRgbString:function(e){return d(l(e))}}}()}),i4t.extend(function(){function i(){}function c(n,r){if(!i4t(n.Super).isFunction())return function(){};function e(i){return function(){var e,t=r.Super;return r.Super=r.Super.Super,e=n[i].apply(r,arguments),r.Super=t,e}}var t,i=e("Super");for(t in n)"Super"!==t&&(i[t]=e(t));return i.Super=c(new n.constructor,r),i}return{addClass:function(e,t){return i4t(i4t.classes).isUndefinedOrNull()&&(i4t.classes={}),i4t.classes[e]?null:function(e,t){function i(){}var n,r,o,s,a,u;if(this.classHasInitialize=!1,n=new this,this.classHasInitialize=!0,!i4t(n.type).isUndefinedOrNull()&&i4t(n[n.type]).isFunction()&&(i.prototype.Super=n[n.type],i.prototype.constructor=i4t(n.constructor.Super).isFunction()?n.constructor.Super:function(){},delete n[n.type],i4t(n.constructor.Super).isFunction()))for(r in n.constructor.Super.prototype)"Super"!==r&&i4t(i[r]).isUndefinedOrNull()&&(i.prototype[r]=n.constructor.Super.prototype[r]);for(r in t)t.hasOwnProperty(r)&&"Super"!==r&&r!==n.type&&(a=i4t(t[r]),(s=i4t(n[r])).isFunction()&&a.isFunction()&&(i.prototype[r]=s.val()),n[r]=a.val());for(r in u=c.name||c.toString().substring(c.toString().indexOf(" "),c.toString().indexOf("(")).trim(),o=(o=new Function(u,"extender","type","return "+function(){function e(i){var n=this,r=this.Super;return function(){var e,t=n.Super;return n.Super=r,e=i.apply(n,arguments),n.Super=t,e}}if(this.Super=c(new this.constructor.Super,this),this.constructor.classHasInitialize){for(var t in this)"constructor"!==t&&"Super"!==t&&t!==this.type&&(extender=i4t(this[t]),extender.isFunction()&&(this[t]=e.call(this,extender.val())));i4t(this[type]).isFunction()&&this[type].apply(this,arguments)}}.toString().replace("Class",e)+";"))(c,a,e),this)o[r]=this[r];o.prototype=n,o.prototype.type=e,o.Super=i,i4t(o.prototype[e]).isFunction()||(o.prototype[e]=function(){});return(o.prototype.constructor=o).implement=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this},o.extend=arguments.callee,o.classHasInitialize=!0,i4t.classes[e]=o}.call(i,e,t)}}}()),i4t.extend({userAgent:function(){function t(){var e;return document.body&&document.body.offsetWidth&&(e=document.body.offsetHeight),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetHeight),e=window.innerWidth&&window.innerHeight?window.innerHeight:e}var i,n,r,e=(i=window.navigator.userAgent.toLowerCase(),r=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"],(n={}).macos=function(){return!n.ios()&&o("mac")},n.ios=function(){return n.iphone()||n.ipod()||n.ipad()},n.iphone=function(){return!n.windows()&&o("iphone")},n.linux=function(){return!n.windows()&&!n.android()&&o("linux")},n.ipod=function(){return o("ipod")},n.ipad=function(){return o("ipad")},n.android=function(){return!n.windows()&&o("android")},n.androidPhone=function(){return n.android()&&o("mobile")},n.androidTablet=function(){return n.android()&&!o("mobile")},n.blackberry=function(){return o("blackberry")||o("bb10")||o("rim")},n.blackberryPhone=function(){return n.blackberry()&&!o("tablet")},n.blackberryTablet=function(){return n.blackberry()&&o("tablet")},n.windows=function(){return o("windows")},n.windowsPhone=function(){return n.windows()&&o("phone")},n.windowsTablet=function(){return n.windows()&&o("touch")&&!n.windowsPhone()},n.fxos=function(){return(o("(mobile")||o("(tablet"))&&o(" rv:")},n.fxosPhone=function(){return n.fxos()&&o("mobile")},n.fxosTablet=function(){return n.fxos()&&o("tablet")},n.mobile=function(){return n.androidPhone()||n.iphone()||n.ipod()||n.windowsPhone()||n.blackberryPhone()||n.fxosPhone()},n.tablet=function(){return n.ipad()||n.androidTablet()||n.blackberryTablet()||n.windowsTablet()||n.fxosTablet()},n.desktop=function(){return!n.tablet()&&!n.mobile()},n.television=function(){for(var e=0;e<r.length;){if(o(r[e]))return!0;e++}return!1},{type:s(["mobile","tablet","desktop"]),model:s(["macos","ios","iphone","ipad","ipod","android","blackberry","windows","linux","fxos","television"])});function o(e){return-1!==i.indexOf(e)}function s(e){for(var t=0;t<e.length;t++)if(n[e[t]]())return e[t];return"unknown"}e={device:e,isIE:-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident"),isEdge:-1!==navigator.userAgent.indexOf("Edge"),isOpera:-1!==navigator.userAgent.indexOf("Opera"),isFirefox:-1!==navigator.userAgent.indexOf("Firefox"),isSafari:-1!==navigator.userAgent.indexOf("AppleWebKit")&&-1!==navigator.userAgent.indexOf("Version"),isWin:-1!==e.model.indexOf("windows"),isMac:-1!==e.model.indexOf("macos"),isLinux:-1!==e.model.indexOf("linux"),isMobile:-1!==e.type.indexOf("mobile"),windowWidth:function(){var e;return document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth),window.innerWidth&&window.innerHeight&&(e=window.innerWidth),(i4t(document.body).isUndefinedOrNull()||i4t(document.body.clientHeight).isUndefined()||0===document.body.clientHeight?document.documentElement:document.body).clientHeight>t()&&(e-=function(){var e,t=0,i=0,n=i4t(document.createElement("p"));n.style("width","100%").style("height","200px"),(e=i4t(document.createElement("div"))).style("position","absolute").style("top","0px").style("left","0px").style("visibility","hidden"),e.style("width","200px").style("height","150px").style("overflow","hidden"),i4t(e).append(n),i4t(document.body).isElement()&&(i4t(document.body).append(e),t=n.val().offsetWidth,e.style("overflow","scroll"),i=n.val().offsetWidth,t===i&&(i=e.val().clientWidth),e.remove());return t-i}()),e},windowHeight:t,hasFlash:function(){return void 0===navigator.plugins||0==navigator.plugins.length?function(){try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(e){i4t.logger.warning("No se puede acceder al Flash. Excepcion: "+e)}return!1}():!i4t(navigator.plugins["Shockwave Flash"]).isUndefined()}};return e.isChrome=-1!==navigator.userAgent.indexOf("Chrome")&&!e.isIE&&!e.isEdge,e.navVersion=function(){var e=null;return this.isIE&&(e=/\b(MSIE|rv:|Edge\/?)\b\s?(\d+)(\.\d+)/),this.isFirefox&&(e=/(Firefox)[\/\s](\d+)(\.\d+)/),this.isChrome&&(e=/(Chrome)[\/\s](\d+)(\.\d+)/),this.isOpera&&(e=/(Version)[\/\s](\d+)(\.\d+)/),null!==(e=this.isSafari?/(Version)[\/\s](\d+)(\.\d+)/:e)&&e.test(navigator.userAgent)?parseInt(RegExp.$2,10):0}.call(e),e.html5AudioExtension=function(){return this.isFirefox||this.isChrome?["ogg","mp3"]:this.isOpera?["ogg"]:["mp3"]}.call(e),e.html5VideoExtension=function(){return this.isFirefox?["ogg","ogv","webm"]:this.isChrome?["mp4","webm","ogv","ogg"]:this.isOpera?["ogg","webm"]:["mp4"]}.call(e),e.isWebRtcActive=!(!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)||!window.AudioContext&&!window.webkitAudioContext),e}()}),i4t.extend({config:function(){var i={options:{}},o={environment:"insuit.net",tab:{custom:!1,texts:null},bar:{fontcolor:"#FFFFFF",logo:"",backgroundcolor:"#AF0421"},font:{family:'"InsuitABeeZee", Arial, Helvetica, Verdana, sans-serif'},area:{fontcolor:"",backgroundcolor:""},origin:{domain:"",protocol:""},suit:{protocol:"https:",path:"/i4tservice/",domain:window.location.host},lang:{bydefault:"es-ES",current:null,system:{"sl-SL":null,"hr-HR":null,"es-ES":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"en-GB":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"x-VA":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"ca-ES":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"eu-EU":{ttsRate:["medium","medium","medium","medium","medium"],audioRate:[.5,.75,1,2,3]},"de-DE":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"fr-FR":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"it-IT":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"pt-PT":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"gl-ES":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]},"nl-NL":{ttsRate:["x-slow","slow","medium","fast","x-fast"],audioRate:[1,1,1,1.6,1.7]}}},log:{active:!1,level:"ERROR"},css:{insuitfile:"css/insuit.css",readerfile:"css/insuit-reader.css",pdffile:"css/insuit-pdf.css"},configpage:"config_iframe.html",configKey:"x-insuit-config",cacheKey:"x-insuit-cache",generalContainer:"x-insuit-container",barContainer:"x-insuit-bar-container",fixedContainer:"x-insuit-fixed-container",relativeContainer:"x-insuit-relative-container",centeredAidsContainer:"x-insuit-aids-centered",barAidsContainer:"x-insuit-bar-aids",modalContainer:"x-insuit-header-modals",helpContainer:"x-insuit-help-container",popoverContainer:"x-insuit-popover-container",tourContainer:"x-insuit-tour-container",reader:{container:"x-insuit-reader-container",tagAttr:"data-insuit-reader",backgroundcolor:"#0077BE",fontcolor:"#FFFFFF",fontfamily:'"InsuitABeeZee", Arial, Helvetica, Verdana, sans-serif'},configbartemplate:"templates/config_bar.txt",aloud:{codeVolume:"aloudVolume",codeRate:"ttsRate",defaultVolume:3,defaultRate:2},clear:{fontId:"x-insuit-clear-font",schemeId:"x-insuit-clear-colorscheme",dyslexicId:"x-insuit-clear-dyslexic",downloadPdfId:"x-insuit-download-pdf"},senior:{schemeId:"x-insuit-senior-colorscheme",linksButton:"insuit-button-link",fontButton:"insuit-button-font"},aids:{KEY:{option:"KEY",icon:"insuit-icon-keys",inAids:["KeyWithCancelInAid","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","LinkOutAid","AreaOutAid","ScrollOutAid","ModalOutAid","AloudOutAid","AsteriscOutAid","VisualFormOutAid","FocusOutAid"],devicessupported:["desktop"],manager:"RoleManager"},SPEECH:{option:"SPEECH",icon:"insuit-icon-voice",inAids:["KeyWithCancelInAid",i4t.userAgent.isWebRtcActive?"SpeechInAid":"SpeechInAidFlash","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","LinkOutAid","AreaOutAid","ScrollOutAid","ModalOutAid","VisualFormOutAid","FocusOutAid"],devicessupported:["desktop"],manager:"RoleManager"},SOUND:{option:"SOUND",icon:"insuit-icon-sound",inAids:["KeyWithCancelInAid",i4t.userAgent.isWebRtcActive?"SoundInAid":"SoundInAidFlash","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","LinkOutAid","AreaOutAid","ScrollOutAid","ModalOutAid","VisualOutAid","VisualKeyOutAid","VisualMultimediaOutAid","VisualFormOutAid","FocusOutAid"],devicessupported:["desktop"],manager:"RoleManager"},BUTTON:{option:"BUTTON",icon:"insuit-icon-button",inAids:["KeyWithCancelInAid","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","LinkOutAid","AreaOutAid","ScrollOutAid","ModalOutAid","VisualOutAid","VisualKeyOutAid","VisualMultimediaOutAid","VisualFormOutAid","FocusOutAid"],devicessupported:["desktop","mobile","tablet"],manager:"RoleManager"},PUSH:{option:"PUSH",icon:"insuit-icon-push",inAids:["PushInAid","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","LinkOutAid","AreaOutAid","ScrollOutAid","ModalOutAid","VisualOutAid","VisualKeyOutAid","VisualMultimediaOutAid","VisualFormOutAid","FocusOutAid"],devicessupported:["desktop"],manager:"RoleManager"},CLEAR:{option:"CLEAR",icon:"insuit-icon-visual",inAids:["KeyInAid","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","ModalOutAid","ClearOutAid","ScrollOutAid"],devicessupported:["desktop","mobile","tablet"],manager:"NavManager"},EXTAID:{option:"EXTAID",icon:"insuit-icon-extaid",inAids:["KeyInAid","EventInAid"],outAids:["PopoverOutAid","TourOutAid","HelpOutAid","ModalOutAid","FocusOutAid"],devicessupported:["desktop","mobile","tablet"],manager:"NavManager"},SENIOR:{option:"SENIOR",icon:"insuit-icon-senior",inAids:["KeyWithSeniorInAid","EventInAid"],outAids:["PopoverOutAid","HelpOutAid","FocusOutAid","SeniorOutAid","ModalOutAid","AloudOutAid","ScrollOutAid"],devicessupported:["desktop"],manager:"NavManager"}},project:{code:"",description:"",isv8:!1,lastmodified:"",v8:{modelservice:!0},version:""}};function t(t){if(!i4t(t).isNullOrEmptyString()){var i,n,r=0<t.indexOf("-")?t.substring(0,t.indexOf("-")):t;if(i4t(o.lang.system).each(function(e){return e===t?(n=t,!1):(!i4t(r).isNullOrEmptyString()&&i4t(e).startsWith(r)&&(i=e),void(!i4t(r).isNullOrEmptyString()&&i4t(e).startsWith("x-")&&i4t(e).endsWith(r.toUpperCase())&&(i=e)))}),!i4t(n).isNullOrEmptyString())return o.lang.current=n,1;if(!i4t(i).isNullOrEmptyString())return o.lang.current=i,1}}function e(e){var t,i;i4t(e.attributes).each(function(){-1<this.val().name.indexOf("data-insuit-")&&(t=this.val().name.replace("data-insuit-","").replace(/\-/g,"."),i=i4t(this.val().value).makeType(),r(t,i))})}function n(e){if(i4t(e).isNullOrEmptyString())return null;var t=o,i=e.split(".");do{if(i4t(t).isUndefinedOrNull())return null}while(t=t[i.shift()],0<i.length);return t}function r(e,t){if(!i4t(e).isNullOrEmptyString()){for(var i,n=o,r=e.split(".");1<r.length;)i=r.shift(),i4t(n[i]).isUndefinedOrNull()&&(n[i]={}),n=n[i];n[r.shift()]=t,i4t(i4t.logger).isUndefinedOrNull()||!i4t(e).startsWith("log.")&&"log"!==e||i4t.logger.config(o.log)}}return i4t.event.addListener("load",function(){e(window.document.body)}),{UI:{getOption:function(e){return i4t(e).isNullOrEmptyString()||i4t(i.options).isUndefinedOrNull()?null:i.options[e]},setOption:function(e,t){i4t(e).isNullOrEmptyString()||(i4t(i.options).isUndefinedOrNull()&&(i.options={}),i.options[e]=t)},setAllOption:function(e){i4t(i.options).isUndefinedOrNull()&&(i.options={}),i.options=e},getAllOption:function(e){return i4t(i.options).isUndefinedOrNull()&&(i.options={}),i.options},get:function(){return i},set:function(e){var t=i.options;(i=e).options=t},getDefault:function(){var e,t=("desktop"!==i4t.userAgent.device.type?i4t(o.aids.BUTTON):i4t(o.aids.KEY)).clone().val();return o.lang.current||i4t.config.getLanguage(),("desktop"!==i4t.userAgent.device.type||i4t(o.lang.system[o.lang.current]).isUndefinedOrNull())&&-1<(e=i4t(t.outAids).indexOf("AloudOutAid"))&&t.outAids.splice(e,1),t}},get:n,set:r,getLanguage:function(){var e;return!i4t(o.lang.current).isNullOrEmptyString()||t(document.documentElement.lang)||t(document.documentElement.getAttribute("xml:lang"))||(e=i4t.find("meta[http-equiv=content-language], meta[http-equiv=Content-Language]")).isElement()&&t(e.attr("content"))||t(i4t.userAgent.isIE?navigator.userLanguage:navigator.language)?o.lang.current:o.lang.current=o.lang.bydefault},setLanguage:function(e){return!(i4t(e).isNullOrEmptyString()||!t(e))},getSuitUrl:function(){var e=n("suit");return e.protocol+"//"+e.domain+e.path},setByCustomAtts:e}}(),text:function(){var n={};return{set:function(e,t){i4t(e).isUndefinedOrNull()||i4t(t).isNullOrEmptyString()||(n[e]=t)},get:function(e,t){var i="";return i4t(e).isUndefinedOrNull()||i4t(n[e]).isNullOrEmptyString()||(i=n[e],i4t(t).isObject()&&i4t(t).each(function(e){i=i.replace("{"+e+"}",this.val())})),i4t(i).HtmlDecode().val()},setAll:function(e){n=i4t.extend(n,e)}}}()}),i4t.extend({bus:function(){var o={};this.subscribe=function(e,t){!i4t(e).isNullOrEmptyString()&&i4t(t).isFunction()&&(i4t(o[e]).isUndefinedOrNull()&&(o[e]=[]),o[e].push(t))},this.publish=function(e){var t,i,n=[],r=Array.prototype.shift.call(arguments);if(!i4t(r).isNullOrEmptyString()&&!i4t(o[r]).isUndefinedOrNull())for(t=0;t<o[r].length;t++)i=o[r][t],i4t(i).isFunction()&&n.push(i.apply(this,arguments));return n},this.unsubscribe=function(e,t){var i;if(!i4t(e).isNullOrEmptyString()&&i4t(t).isFunction())for(i=0;i<o[e].length;i++)if(t==o[e][i])return i4t(o[e]).remove(i),!0;return!1},this.destroy=function(){o={}}}}),i4t.extend({url:function(){var n,i,e,o=window.URL;function r(t){return{next:function(){var e=t.shift();return{done:void 0===e,value:e}}}}function t(e){"string"!=typeof e&&(e=String(e));var t=document.createElement("a");if(t.href=e,":"===t.protocol||!/:/.test(t.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:t}),t=new n(this.search),Object.defineProperty(this,"searchParams",{value:t,enumerable:!0});var i=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==i&&(i=this.search,this.searchParams._fromString(this.search))}})}function s(e){return encodeURIComponent(e).replace(/%20/g,"+")}function a(e){return decodeURIComponent(String(e).replace(/\+/g," "))}function u(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"!=t){if("string"!=t)throw new TypeError("Unsupported input's type for URLSearchParams");this._fromString(e)}}return function(){try{var e=new o("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()||((e=u.prototype).append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},e.delete=function(e){delete this._entries[e]},e.get=function(e){return e in this._entries?this._entries[e][0]:null},e.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},e.has=function(e){return e in this._entries},e.set=function(e,t){this._entries[e]=[String(t)]},e.forEach=function(e,t){var i,n;for(n in this._entries)if(this._entries.hasOwnProperty(n)){i=this._entries[n];for(var r=0;r<i.length;r++)e.call(t,i[r],n,this)}},e.keys=function(){var i=[];return this.forEach(function(e,t){i.push(t)}),r(i)},e.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},e.entries=function(){var i=[];return this.forEach(function(e,t){i.push([t,e])}),r(i)},e.toString=function(){var i=[];return this.forEach(function(e,t){i.push(s(t)+"="+s(e))}),i.join("&")},Object.defineProperty(e,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries={},""!==e)for(var t,i=(e=e.replace(/^\?/,"")).split("&"),n=0;n<i.length;n++)t=i[n].split("="),this.append(a(t[0]),1<t.length?a(t[1]):"")}}),e.sort=function(){var i=[];this.forEach(function(e,t){i.push([t,e])}),i.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),this._entries={};for(var e=0;e<i.length;e++)this.append(i[e][0],i[e][1])},n=u,i=t.prototype,["hash","host","hostname","port","protocol"].forEach(function(e){var t;t=e,Object.defineProperty(i,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}),Object.defineProperty(i,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(i,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],e=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(e?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),o=t),function(e){var r;this.getDomain=function(){return r.hostname},this.setDomain=function(e){!i4t(e).isNullOrEmptyString()&&/[\w\-0-9]\.[\w\-0-9]+/.test(e)&&(r.hostname=e)},this.getPort=function(){return r.port},this.setPort=function(e){e=i4t(e);e.isInt()&&0<=e.val()&&e.val()<=65535&&(r.port=e.val())},this.getProtocol=function(){return r.protocol},this.setProtocol=function(e){i4t(e).isNullOrEmptyString()||(r.protocol=e)},this.getPage=function(){return r.pathname.substring(r.pathname.lastIndexOf("/")+1)},this.setPage=function(e){i4t(e).isNullOrEmptyString()||(r.pathname=r.pathname.substring(0,r.pathname.lastIndexOf("/")+1)+e)},this.addDirectory=function(e,t){var i=r.pathname.substring(r.pathname.indexOf("/")+1).split("/");i4t(t).isInt()&&t<i.length&&!i4t(e).isNullOrEmptyString()&&(i.splice(t,0,e),r.pathname="/"+i.join("/"))},this.removeDirectory=function(e){var t=r.pathname.substring(r.pathname.indexOf("/")+1).split("/");i4t(e).isInt()&&e<t.length-1&&(t.splice(e,1),r.pathname="/"+t.join("/"))},this.getDirectories=function(){var e=r.pathname.indexOf("/")+1;return r.pathname.lastIndexOf("/")<e?[]:r.pathname.substring(r.pathname.indexOf("/")+1,r.pathname.lastIndexOf("/")).split("/")},this.getAllParams=function(){return r.search},this.addParam=function(e,t){r.searchParams.append(e,t)},this.removeParam=function(e){r.searchParams.delete(e)},this.getParam=function(e){return r.searchParams.get(e)},this.getAllParam=function(e){return r.searchParams.getAll(e)},this.setParam=function(e,t){return r.searchParams.set(e,t)},this.toString=function(){return r.href},this.setUrl=function(e){var t,i,n=i4t(e).isNullOrEmptyString()?window.location.href:e;/^https?:\/\/.*/.test(n)||(i=(t=document.implementation.createHTMLDocument("")).createElement("base"),e=t.createElement("a"),i.href=window.location.href,t.head.appendChild(i),t.head.appendChild(i),t.body.appendChild(e),e.href=n,n=e.href),r=new o(n)},this.setUrl(e)}}()}),i4t.extend({ajax:function(){function i(e){return!i4t(e).isUndefinedOrNull()&&(e.method="POST",i4t(e.headers).isUndefinedOrNull()&&(e.headers={},e.headers["Content-type"]="application/x-www-form-urlencoded; charset=UTF-8"),t(e))}function t(t){try{i4t(t.headers).isUndefinedOrNull()&&(t.headers={}),t.headers["X-Requested-With"]="XMLHttpRequest";var e=new n(t);return e.process(),e}catch(e){i4t.logger.warning("Llamando por: "+t.method+", en ajax con los argumentos: "+t+". Excepción: "+e,e)}}function n(e){var i,o,n={response:{},request:{},state:0},s={timeout:null,url:window.location.href,method:"GET",async:!0,username:null,password:null,parameters:{},headers:{},onTimeout:function(){},onLoading:function(){},onLoaded:function(){},onInteractive:function(){},onComplete:function(){},onSuccess:function(){},onError:function(){}};function r(){var e,t,i,n=i4t({}),r=o.getAllResponseHeaders();if(!i4t(r).isNullOrEmptyString())for(e=r.split("\n"),t=0;t<e.length;t++)i=e[t],function(e,t){if(n.containsKey(e)){var i=i4t(n.get(e));return i.isArray()||(i=i4t([i.val()]),n.set(e,i.val())),i.val().push(t)}n.set(e,t)}(decodeURIComponent(i4t(i.substring(0,i.indexOf(":"))).trim().val()),decodeURIComponent(i4t(i.substring(i.indexOf(":")+1)).trim().val()));return n.val()}function a(){i4t(i).isUndefinedOrNull()||(clearTimeout(i),i=null),delete o.onreadystatechange,o=null}this.destroy=function(){a()},this.process=function(){if(i4t(o).isUndefinedOrNull())return!1;var e=n.request;if(o.open(e.method,e.url,e.async,e.username,e.password),i4t(o.setRequestHeader).isFunction())for(var t in e.headers)e.headers.hasOwnProperty(t)&&o.setRequestHeader(t,e.headers[t]);return 0<s.timeout&&(i=setTimeout(function(){i4t(o).isUndefinedOrNull()||(o.abort(),n.response={abort:!0,status:o.status,statusText:o.statusText,body:o.responseText,bodyXML:o.responseXML,headers:r()},s.onTimeout(n),a())},s.timeout)),o.send(e.body),!0},function(e){i4t.extend(s,e),(o=new XMLHttpRequest).onreadystatechange=function(){if(!i4t(o).isUndefinedOrNull())switch(n.state=o.readyState,o.readyState){case 1:s.onLoading(n);break;case 2:s.onLoaded(n);break;case 3:s.onInteractive(n);break;case 4:!function(){var e=n.response={status:o.status,statusText:o.statusText,body:o.responseText,bodyXML:o.responseXML,headers:r()};if(s.onComplete(n),200===e.status)return s.onSuccess(n),a(),0;s.onError(n),a()}()}};var t=n.request={url:s.url,method:s.method,body:"",async:s.async,username:s.username,password:s.password,headers:{}};i4t.extend(t.headers,s.headers),e=function(){var i,e,n="",r=function(e,t){if(i4t(t).isArray())for(i=0;i<t.length;i++)r(e,t[i]);else 0<n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(t)};for(e in s.parameters)s.parameters.hasOwnProperty(e)&&r(e,s.parameters[e]);return n}(),"POST"!==s.method?0<e.length&&(t.url+=(-1<t.url.indexOf("?")?"&":"?")+e):t.body=e}(e)}return{get:function(e){return!i4t(e).isUndefinedOrNull()&&(e.method="GET",t(e))},post:i,submit:function(e,t){return!i4t(e).isUndefinedOrNull()&&((t=i4t(t).isUndefinedOrNull()?{}:t).method=e.method.toUpperCase(),t.url=e.action,e=function(e){function t(e,t){if(o.containsKey(e)){var i=i4t(o.get(e));return i.isArray()||(i=i4t([i.val()]),o.set(e,i.val())),i.val().push(t),0}o.set(e,t)}var i,n,r,o=i4t({}),s=e.elements;for(i=0;i<s.length;i++)if(!(r=s[i]).disabled)switch(r.type){case"select-one":0<=r.selectedIndex&&t(r.name,r.options[r.selectedIndex].value);break;case"select-multiple":for(n=0;n<r.options.length;n++)r.options[n].selected&&t(r.name,r.options[n].value);break;case"checkbox":case"radio":r.checked&&t(r.name,r.value);break;default:t(r.name,r.value)}return o.val()}(e),i4t(t.parameters).isUndefinedOrNull()?t.parameters=e:i4t.extend(t.parameters,e),i(t))}}}()}),i4t.extend({iframeBus:function(e){var r,o,s,a={},u=!1,c={window:null,url:null};function l(e){try{if(!c.window||e.source!==c.window)return;c.window=e.source,c.url=e.origin&&e.origin.indexOf("file")<0&&"null"!==e.origin?e.origin:"*";var t,i=e.data;if(i4t(i).isNullOrEmptyString())return void i4t.logger.warning("Los datos del iFrame no son un JSON valido: "+i);if(i4t.logger.isTraceEnabled()&&i4t.logger.trace("Evento de entrada en el IFRAMEBUS: "+i),t=i4t(i).toJSON(),!i4t(t.toPublish).isNullOrEmptyString()){i=t.callParameters;return i4t(i).isString()&&!i4t(i).isNullOrEmptyString()&&(i=i4t(i).toJSON()),(i=!i4t(i).isArray()?[i]:i).unshift(t.toPublish),function(e){var t,i,n=[],r=Array.prototype.shift.call(arguments);if(!i4t(r).isNullOrEmptyString()&&!i4t(a[r]).isUndefinedOrNull())for(t=0;!i4t(a[r]).isUndefinedOrNull()&&t<a[r].length;t++)i=a[r][t],i4t(i).isFunction()&&n.push(i.apply(this,arguments));return n}.apply(this,i)}}catch(e){i4t.logger.error("Error inesperado el el iframeBus",e)}}function d(e){i4t(e).isFunction()&&Array.prototype.shift.call(arguments).apply(this,arguments)}function h(e){if(i4t(e).isNullOrEmptyString())return null;var t,i,n=[],r=c.url,o=c.window;if(o.postMessage){for(i=1;i<arguments.length;i++)n.push(arguments[i]);t=i4t({toPublish:e,callParameters:n}).stringify(),i4t.logger.isTraceEnabled()&&i4t.logger.trace("Evento de salida en el IFRAMEBUS: "+t),o.postMessage(t,r)}}this.onActive=function(e){r=e},this.isActive=function(){return u},this.onError=function(e){o=e},this.activate=function(t){if(!c.window)throw new Error("No existe iframe de destino para establecer la comunicación");function i(e){try{h.apply(this,e)}catch(e){d(o)}}for(var n=(new Date).getTime(),r=["activate"],e=1;e<arguments.length;e++)r.push(arguments[e]);i4t(t).isInt()&&!u&&(s=window.setInterval(function(){if(u)clearInterval(s);else{var e=(new Date).getTime()-n;if(t<=e)return u=!1,clearInterval(s),i4t.logger.trace("IFRAME BUS TIMEOUT"),void d(o);i(r)}},100)),i(r)},this.publish=function(){if(!u)throw new Error("El Bus no está activo");h.apply(this,arguments)},this.subscribe=function(e,t){!i4t(e).isNullOrEmptyString()&&i4t(t).isFunction()&&(i4t(a[e]).isUndefinedOrNull()&&(a[e]=[]),a[e].push(t))},this.unsubscribe=function(e,t){var i;if(!i4t(e).isNullOrEmptyString()&&a[e]&&i4t(t).isFunction())for(i=0;i<a[e].length;i++)if(t==a[e][i])return i4t(a[e]).remove(i),!0;return!1},this.unsubscribeAll=function(e){return!(i4t(e).isNullOrEmptyString()||!a[e])&&(delete a[e],!0)},this.destroy=function(){window.clearInterval(s),i4t.event.removeListener("message",l,window),u=!(a={})},this.setIframeComunication=function(e){var i,t,n;!i4t(e).isElement()&&window.parent===window||(i=this,c.window=(t=e,i4t(t).isElement()?t.contentWindow:window.parent),c.url=(n=e,i4t(n).isElement()&&!i4t(n.src).isNullOrEmptyString()&&n.src.indexOf("file")<0?n.src:"*"),i4t.event.removeListener("message",l,window),i4t.event.addListener("message",l,window),this.subscribe("destroy",function(){i.destroy()}),i4t(e).isElement()?this.subscribe("activate",function(){if(!u){u=!0;for(var e=[r],t=0;t<arguments.length;t++)e.push(arguments[t]);d.apply(this,e)}}):this.subscribe("activate",function(){if(!u){u=!0,i.publish("activate");for(var e=[r],t=0;t<arguments.length;t++)e.push(arguments[t]);d.apply(this,e)}}))},this.setIframeComunication(e)}}),i4t.extend({jsonp:function(){var o={url:window.location.origin,async:!0,onComplete:function(){},onError:function(){},onTimeout:function(){},timeout:void 0,callbackParamName:"callback",params:{}};return{call:function(e){var t,i,n=[],r=i4t.extend(i4t(o).clone().val(),e);try{for(i in r.params)r.params.hasOwnProperty(i)&&n.push(i+"="+encodeURIComponent(r.params[i]));r.id="m"+(new Date).getTime(),this.process[r.id]=i4t(function(e){i4t.jsonp.process.call(this,e),delete i4t.jsonp.process[this.id]}).bind(r),n.push(r.callbackParamName+"=i4t.jsonp.process."+r.id),t=r.url,t+=-1<r.url.indexOf("?")?"&":"?",t+=n.join("&"),function(e){var t=i4t.find("head"),i=this;this.script=document.createElement("script"),this.script.type="text/javascript",this.async&&(this.script.async="async");this.script.src=e,t.val().insertBefore(this.script,t.val().firstChild),i4t(this.timeout).isNumber()&&(this.setTimeout=window.setTimeout(function(){i.onTimeout.call(i)},this.timeout))}.call(r,t)}catch(e){r.onError(e)}},process:function(e){try{i4t(this.setTimeout).isUndefinedOrNull()||window.clearTimeout(this.setTimeout),i4t(this.onComplete).isFunction()&&this.onComplete.call(this,e),i4t(this.script).remove()}catch(e){this.onError.call(this,e)}}}}()}),i4t.extend({scroll:function(){var d=null;function h(e,t,i){i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?window.scrollTo(t,i):(i4t(e.scrollTop).isNumber()&&i4t(i).isNumber()&&(e.scrollTop=i),i4t(e.scrollLeft).isNumber()&&i4t(t).isNumber()&&(e.scrollLeft=t))}function a(e,t){if(!i4t(e).isElement())return document.documentElement;var i=i4t(e),n=i.css("overflow"),r=i.css("overflow-x"),o=i.css("overflow-y"),s=e.scrollHeight-e.clientHeight,i=e.scrollWidth-e.clientWidth;return("auto"===n||"scroll"===n)&&(10<s||10<i)||("auto"===r||"scroll"===r)&&10<i&&("x"===t||i4t(t).isNullOrEmptyString())||("auto"===o||"scroll"===o)&&10<s&&("y"===t||i4t(t).isNullOrEmptyString())?e:a(e.parentNode,t)}function n(e,t,i,n){var r,o=0,s={x:0,y:0},a={x:0,y:0},u={x:0,y:0},c={x:0,y:0},l=1500;(i4t(i).isNumber()||i4t(t).isNumber())&&(i4t(d).isUndefinedOrNull()||(clearInterval(d),d=null),a.y=i4t(i).isNumber()?i:(i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e).scrollTop,a.x=i4t(t).isNumber()?t:(i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e).scrollLeft,a.y<0&&(a.y=0),a.x<0&&(a.x=0),c.y=m(e)-e.clientHeight,c.x=y(e)-e.clientWidth,a.y>c.y&&(a.y=c.y),a.x>c.x&&(a.x=c.x),s.y=f(e),s.x=p(e),u.y=a.y-s.y,u.x=a.x-s.x,(c=Math.max(Math.abs(u.x),Math.abs(u.y)))<2500&&(l=c),d=setInterval(function(){if(r=l<=(o+=15)?{x:s.x+u.x,y:s.y+u.y}:{x:u.x*(1-Math.pow(2,-10*o/l))+s.x,y:u.y*(1-Math.pow(2,-10*o/l))+s.y},a.y===r.y&&a.x===r.x)return clearInterval(d),h(e,a.x,a.y),void(i4t(n).isFunction()&&n.call(a));h(e,r.x,r.y)},15))}function i(e,t){try{var i=parseFloat(e.style[t].replace("px",""));return i4t(i).isFloat()?i:0}catch(e){return 0}}function f(e){var t=i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e,e=t.scrollTop,t=i(t,"top");return e<t?t:e}function p(e){var t=i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e,e=t.scrollLeft,t=i(t,"left");return e<t?t:e}function y(e){var t=i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e,e=t.scrollWidth,t=i(t,"width");return e<t?t:e}function m(e){var t=i4t.userAgent.isIE&&"html"===e.nodeName.toLowerCase()?document.body:e,e=t.scrollHeight,t=i(t,"height");return e<t?t:e}return{getScrollableElement:a,getY:m,getX:y,getLeft:p,getTop:f,toSelected:function(e,t,i){e=a(e),i4t(t.y).isNumber()&&i4t(t.x).isNumber()&&n(e,t.x,t.y,i)},down:function(e){n(e=a(e,"y"),null,f(e)+parseInt(e.clientHeight/2,10))},up:function(e){n(e=a(e,"y"),null,f(e)-parseInt(e.clientHeight/2,10))},left:function(e){n(e=a(e,"x"),p(e)-parseInt(e.clientWidth/2,10),null)},right:function(e){n(e=a(e,"x"),p(e)+parseInt(e.clientWidth/2,10),null)}}}()}),i4t.extend({storage:function(t){var i={},n=this,r=new function(e){this.save=function(e,t){try{localStorage.setItem(e,t)}catch(e){i4t.logger.error("Guardando en el localstorage",e)}},this.delete=function(e){try{localStorage.removeItem(e)}catch(e){i4t.logger.error("Eliminando en el localstorage",e)}};var t,i={};try{for(var n=0;n<=localStorage.length-1;n++)i[t=localStorage.key(n)]=localStorage.getItem(t)}catch(e){i4t.logger.error("Listando el localstorage",e)}i4t(e).isFunction()&&e(i)}(function(e){i=e,i4t(t).isFunction()&&window.setTimeout(function(){t.call(n,e)},10)});this.get=function(e){return i[e]},this.set=function(e,t){i[e]=t,r.save(e,t)},this.delete=function(e){delete i[e],r.delete(e)},this.list=function(){return i4t(i).clone().val()}}}),i4t.extend({template:function(){var u=i4t({});function c(e){var t=new Function("obj","_",e);return function(e){return t.call(this,e)}}return{evaluate:function(e,t){var i,n,o,s,a,r=i4t(e).isString()&&i4t(e).startsWith("http")?new i4t.url(e).getPage():e;if(u.containsKey(r))i=u.get(r);else{e=function(t){var i,n="";if(i4t.ajax.get({async:false,parameters:{V:i4t.version},url:t,onSuccess:function(e){n=e.response.body},onError:function(e){i=e;i4t.logger.warning("Recuperando el template de la URL: "+t+", excepción: "+e.statusText)}}),!i4t(n).isNullOrEmptyString()||i4t(i).isUndefinedOrNull())return n;throw i}(e),o=e,e=new RegExp(/<%=([\s\S]+?)%>/g.source+"|"+/<%([\s\S]+?)%>/g.source+"|$","g"),s=0,a="__p+='",o.replace(e,function(e,t,i,n){var r={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};return a+=o.slice(s,n).replace(/\\|'|\r|\n|\t|\u2028|\u2029/g,function(e){return"\\"+r[e]}),t&&(a+="'+\n((__t=("+t+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),s=n+e.length,e}),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(a="with(obj||{}){\n"+(a+="';\n")+"}\n")+"return __p;\n";try{i4t.cache.set(r,n)}catch(e){}i=c(n),u.set(r,i)}return i(t)},getCache:function(){return u},setCache:function(e){var t,i;if(i4t(e).isObject())for(t in e)e.hasOwnProperty(t)&&(i=c(e[t]),u.set(t,i))}}}()}),i4t.extend({webRTC:function(){var i="CAPTURE",n="ACTIVITY",r="ACTIVITY_END",o="ERROR",s="PERMISSION_DENIED",a="NO_DEVICE",u=null;function c(e){"PERMISSION_DENIED"===e||!i4t(e.name).isNullOrEmptyString()&&"PermissionDeniedError"===e.name?this.bus.publish(s):"NO_DEVICES_FOUND"===e||!i4t(e.name).isNullOrEmptyString()&&"PermissionDeniedError"===e.name?this.bus.publish(a):this.bus.publish(o)}function l(e){this.processor.processStream(e)}return window.AudioContext=window.AudioContext||window.webkitAudioContext,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,{EVENT_CAPTURE:i,EVENT_ACTIVITY:n,EVENT_ACTIVITY_END:r,EVENT_ERROR:o,EVENT_PERMISSION_DENIED:s,EVENT_NO_DEVICE:a,Audio:function(e){var t=this;this.bus=new i4t.bus,this.onActivity=function(e){t.bus.subscribe(n,e)},this.onActivityEnd=function(e){t.bus.subscribe(r,e)},this.onCapture=function(e){t.bus.subscribe(i,e)},this.onError=function(e){t.bus.subscribe(o,e)},this.onPermissionDenied=function(e){t.bus.subscribe(s,e)},this.onNoDevice=function(e){t.bus.subscribe(a,e)},null==u&&(u=new window.AudioContext),this.getState=function(){return u.state},this.resume=function(){u.resume()},this.processor=null,"voice"==e&&(this.processor=new i4t.webRTC.AudioForSpeech(u,this.bus)),"sound"==e&&(this.processor=new i4t.webRTC.AudioForSounds(u,this.bus)),navigator.getUserMedia({audio:!0},i4t(l).bind(this),i4t(c).bind(this))},Video:function(){var t=this;this.bus=new i4t.bus,this.onActivity=function(e){t.bus.subscribe(n,e)},this.onActivityEnd=function(e){t.bus.subscribe(r,e)},this.onCapture=function(e){t.bus.subscribe(i,e)},this.onError=function(e){t.bus.subscribe(o,e)},this.onPermissionDenied=function(e){t.bus.subscribe(s,e)},this.onNoDevice=function(e){t.bus.subscribe(a,e)},navigator.getUserMedia({video:!0},i4t(l).bind(this),i4t(c).bind(this))}}}()}),i4t.extend(i4t.webRTC,{AudioForSounds:function(){function i(e){var i=this;this.inputPoint=this.audioContext.createGain(),this.zeroGain=this.audioContext.createGain(),this.zeroGain.gain.value=0,this.inputPoint.connect(this.zeroGain),this.zeroGain.connect(this.audioContext.destination),this.realAudioInput=this.audioContext.createMediaStreamSource(e),this.realAudioInput.connect(this.inputPoint),function(e,t){this.speechLevelNode=new i4t.webRTC.SpeechLevel({ctx:this.audioContext,bus:this.bus,input:e,output:t,threshold:30})}.call(this,this.inputPoint,this.zeroGain),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_ON,function(e,t){(function(e,t){this.active=!0}).call(i,e,t)}),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_OFF,function(e,t){(function(e,t){this.active=!1,this.bus.publish(i4t.webRTC.EVENT_ACTIVITY_END),function(e){i4t.logger.trace("AudioForSounds | "+e)}.call(this,"******* EVENT_ACTIVITY_END;")}).call(i,e,t)}),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_DATA,function(e,t){(function(e,t){this.active&&this.bus.publish(i4t.webRTC.EVENT_ACTIVITY,e,t)}).call(i,e,t)})}return function(e,t){if(this.bus=t,this.active=!1,this.speechLevelNode=null,this.realAudioInput=null,this.inputPoint=null,this.audioContext=e,null==this.audioContext)throw new Error("AudioForSpeech: audioContext null");this.processStream=function(e){i.call(this,e)}}}()}),i4t.extend(i4t.webRTC,{AudioForSpeech:function(){var t=.2;function i(e){var i=this;this.inputPoint=this.audioContext.createGain(),this.zeroGain=this.audioContext.createGain(),this.zeroGain.gain.value=0,this.inputPoint.connect(this.zeroGain),this.zeroGain.connect(this.audioContext.destination),this.realAudioInput=this.audioContext.createMediaStreamSource(e),this.realAudioInput.connect(this.inputPoint),function(e,t){this.vad=new i4t.webRTC.Vad({ctx:this.audioContext,bus:this.bus,input:e,output:t})}.call(this,this.realAudioInput,this.zeroGain),function(e,t){this.speechLevelNode=new i4t.webRTC.SpeechLevel({ctx:this.audioContext,bus:this.bus,input:e,output:t})}.call(this,this.inputPoint,this.zeroGain),this.recorderDelay=this.audioContext.createDelay(t),this.recorderDelay.delayTime.value=t,function(e,t){this.splitter=this.audioContext.createChannelSplitter(2),this.merger=this.audioContext.createChannelMerger(2),e.connect(this.splitter),this.splitter.connect(this.merger,0,0),this.splitter.connect(this.merger,0,1),this.merger.connect(t)}.call(this,this.inputPoint,this.recorderDelay),function(e,t){var i=this;this.audioRecorder=new i4t.webRTC.Recorder(e,t,{bus:this.bus}),this.bus.subscribe(i4t.webRTC.Recorder.ON_WAVE,function(e){i.bus.publish(i4t.webRTC.EVENT_CAPTURE,e)})}.call(this,this.recorderDelay,this.zeroGain),this.stateMachine=new i4t.webRTC.SpeechMachineState(this.bus),this.bus.subscribe(i4t.webRTC.SpeechMachineState.STATEMACHINE_START_REC,function(){(function(){this.recording=!0,this.audioRecorder.clear(),this.audioRecorder.record()}).call(i)}),this.bus.subscribe(i4t.webRTC.SpeechMachineState.STATEMACHINE_STOP_REC,function(){(function(){this.recording=!1,this.bus.publish(i4t.webRTC.EVENT_ACTIVITY_END),function(e){i4t.logger.trace("AudioForSpeech | "+e)}.call(this,"******* EVENT_ACTIVITY_END;"),this.audioRecorder.stop(),this.audioRecorder.exportMonoWAV()}).call(i)}),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_DATA,function(e,t){(function(e,t){this.recording&&this.bus.publish(i4t.webRTC.EVENT_ACTIVITY,e,t)}).call(i,e,t)})}function e(e,t){if(this.bus=t,this.recording=!1,this.audioRecorder=null,this.speechLevelNode=null,this.realAudioInput=null,this.inputPoint=null,this.recorderDelay=null,this.monoAudioInput=null,this.splitter=null,this.merger=null,this.vad=null,this.stateMachine=null,this.audioContext=e,null==this.audioContext)throw new Error("AudioForSpeech: audioContext null");this.processStream=function(e){i.call(this,e)}}return e.RECORD_DELAY_MILLISECONDS=1e3*t,e}()}),i4t.extend(i4t.webRTC,{Recorder:function(){var o="wave",s={bufferLen:4096,workerPath:"/i4tservice/jsworkers/RecorderWorker.js",audioType:"audio/wav",bus:null};function e(e,t,i){var n=e.context,r=this;this.options=i4t.extend(s,i),this.sampleRate=n.sampleRate,this.recording=!1,this.node=null,this.worker=new Worker(this.options.workerPath),n.createScriptProcessor?this.node=n.createScriptProcessor(this.options.bufferLen,2,2):this.node=n.createJavaScriptNode(this.options.bufferLen,2,2),this.node.onaudioprocess=function(e){r.recording&&r.worker.postMessage({command:"record",buffer:[e.inputBuffer.getChannelData(0),e.inputBuffer.getChannelData(1)]})},e.connect(this.node),this.node.connect(t),this.worker.onmessage=function(e){"wave"===e.data.type&&function(e){this.options.bus.publish(o,e)}.call(r,e.data.data)},this.worker.postMessage({command:"init",config:{sampleRate:this.sampleRate}})}return e.prototype.record=function(){this.recording=!0},e.prototype.stop=function(){this.recording=!1},e.prototype.clear=function(){this.worker.postMessage({command:"clear"})},e.prototype.exportMonoWAV=function(e){e=e||this.options.audioType,this.worker.postMessage({command:"exportMonoWAV",type:e})},e.ON_WAVE=o,e}()}),i4t.extend(i4t.webRTC,{Vad:function(){var n="SPEECH_VAD_ON",r="SPEECH_VAD_OFF",e="SPEECH_VAD_UPDATE",t={energy_offset:1e-8,energy_threshold_ratio_pos:2,energy_threshold_ratio_neg:.5,energy_integration:1,filter:[{f:200,v:0},{f:2e3,v:1}],scriptSize:512,fftSize:512,smoothingTimeConstant:.99,input:null,output:null,ctx:null,bus:null},o=0;function s(){var e,t=!1,i=!1;if(o++,(e=function(e){for(var t=0,i=0;i<e.length;i++)t+=this.filter[i]*e[i]*e[i];return t}.call(this,this.floatFrequencyDataLinear)-this.energy_offset)>this.energy_threshold_pos?this.voiceTrend=this.voiceTrend+1>this.voiceTrendMax?this.voiceTrendMax:this.voiceTrend+1:e<-this.energy_threshold_neg?this.voiceTrend=this.voiceTrend-1<this.voiceTrendMin?this.voiceTrendMin:this.voiceTrend-1:0<this.voiceTrend?this.voiceTrend--:this.voiceTrend<0&&this.voiceTrend++,this.voiceTrend>this.voiceTrendStart?t=!0:this.voiceTrend<this.voiceTrendEnd&&(i=!0),e=e*this.iterationPeriod*this.options.energy_integration,this.energy_offset+=0<e||!i?e:10*e,this.energy_offset=this.energy_offset<0?0:this.energy_offset,this.energy_threshold_pos=this.energy_offset*this.options.energy_threshold_ratio_pos,this.energy_threshold_neg=this.energy_offset*this.options.energy_threshold_ratio_neg,t&&!this.vadState)return this.vadState=!0,void function(){a.call(this," VAD ON"),this.options.bus.publish(n)}.call(this);i&&this.vadState&&(this.vadState=!1,function(){a.call(this," VAD OFF --- "+o),o=0,this.options.bus.publish(r)}.call(this))}function a(e){i4t.logger.trace("AudioVAD | "+e)}function i(e){var i=this;if(this.options=i4t.extend(t,e),this.ctx=this.options.ctx,!this.ctx)throw new Error("Vad: AudioContext null");if(!this.options.bus)throw new Error("Vad: No hay BUS donde publicar el evento");this.hertzPerBin=this.ctx.sampleRate/this.options.fftSize,this.iterationFrequency=this.ctx.sampleRate/this.options.scriptSize,this.iterationPeriod=1/this.iterationFrequency,this.filter=function(e,t,i){for(var n,r=t/2,o=e.length,s=[],a=0;a<r;a++)for(n=s[a]=0;n<o;n++)if(a*i<e[n].f){s[a]=e[n].v;break}return s}(this.options.filter,this.options.fftSize,this.hertzPerBin),this.vadState=!1,this.energy_offset=this.options.energy_offset,this.energy_threshold_pos=this.energy_offset*this.options.energy_threshold_ratio_pos,this.energy_threshold_neg=this.energy_offset*this.options.energy_threshold_ratio_neg,this.voiceTrend=0,this.voiceTrendMax=10,this.voiceTrendMin=-10,this.voiceTrendStart=5,this.voiceTrendEnd=-5,this.floatFrequencyDataLinear=null,this.analyser=null,this.analyser=this.ctx.createAnalyser(),this.analyser.smoothingTimeConstant=this.options.smoothingTimeConstant,this.analyser.fftSize=this.options.fftSize,this.ctx.createScriptProcessor?this.scriptNode=this.ctx.createScriptProcessor(this.options.scriptSize,1,1):this.scriptNode=this.ctx.createJavaScriptNode(this.options.scriptSize,1,1),this.floatFrequencyDataLinear=new Float32Array(this.analyser.frequencyBinCount),this.scriptNode.onaudioprocess=function(e){var t;for(i.analyser.getFloatFrequencyData(i.floatFrequencyDataLinear),t=0;t<i.floatFrequencyDataLinear.length;t++)i.floatFrequencyDataLinear[t]=Math.pow(10,i.floatFrequencyDataLinear[t]/10);s.call(i)},this.options.input&&this.options.input.connect(this.analyser),this.analyser.connect(this.scriptNode),this.options.output?this.scriptNode.connect(this.options.output):this.scriptNode.connect(this.ctx.destination)}return i.ON_VAD_ON=n,i.ON_VAD_OFF=r,i.ON_VAD_UPDATE=e,i}()}),i4t.extend(i4t.webRTC,{SpeechLevel:function(){var i={input:null,output:null,ctx:null,bus:null,threshold:6},o="SPEECH_LEVEL_ON",s="SPEECH_LEVEL_OFF",a="SPEECH_LEVEL_DATA";function u(e){i4t.logger.trace("AudioLevel | "+e)}function e(e){var t=this;if(this.options=i4t.extend(i,e),this.previousRms,this.threshold=this.options.threshold,this.audioContext=this.options.ctx,!this.audioContext)throw new Error("SpeechLevel: AudioContext null");if(!this.options.bus)throw new Error("SpeechLevel: No hay BUS donde publicar el evento");if(!this.options.input)throw new Error("SpeechLevel: No hay input");if(!this.options.output)throw new Error("SpeechLevel: No hay output");this.bus=this.options.bus,this.audioContext.createScriptProcessor?this.speechLevelNode=this.audioContext.createScriptProcessor(2048,1,1):this.speechLevelNode=this.audioContext.createJavaScriptNode(2048,1,1),this.options.input&&this.options.input.connect(this.speechLevelNode),this.options.output&&this.speechLevelNode.connect(this.options.output),this.speechLevelNode.onaudioprocess=function(e){(function(e){for(var t=e.inputBuffer.getChannelData(0),i=t.length,n=0,r=0;r<i;r++)n+=t[r]*t[r];e=Math.sqrt(n/(i/2)),e=Math.round(100*e),this.previousRms<this.threshold&&e>=this.threshold&&(this.bus.publish(o),u.call(this,"level ON "+this.previousRms+"->"+e)),this.previousRms>=this.threshold&&e<this.threshold&&(this.bus.publish(s),u.call(this,"level OFF "+this.previousRms+"->"+e)),this.bus.publish(a,e,t),this.previousRms=e}).call(t,e)}}return e.SPEECH_LEVEL_ON=o,e.SPEECH_LEVEL_OFF=s,e.SPEECH_LEVEL_DATA=a,e}()}),i4t.extend(i4t.webRTC,{SpeechMachineState:function(){var i=4e3,n=1e3+i4t.webRTC.AudioForSpeech.RECORD_DELAY_MILLISECONDS,r=0,t=1,o=2,s=3,a=4,u=0,c=1,l=2,d=3,h=4,f=5,p=0,y=1,m=2,g=3,v=4,w=5,k="SPEECH_STATEMACHINE_START_REC",b="SPEECH_STATEMACHINE_STOP_REC";function E(e){switch(this.state){case r:switch(e){case u:this.state=t;break;case l:this.state=o;break;default:S.call(this,"ERROR: estado="+this.state+", input="+e)}break;case t:switch(e){case c:this.state=r;break;case l:this.state=s,C.call(this,v),C.call(this,m);break;default:S.call(this,"ERROR: estado="+this.state+", input="+e)}break;case o:switch(e){case d:this.state=r;break;case u:this.state=s,C.call(this,v),C.call(this,m);break;default:S.call(this,"ERROR: estado="+this.state+", input="+e)}break;case s:switch(e){case c:this.state=a,C.call(this,p);break;case h:this.state=r,C.call(this,w);break;case l:case d:break;default:S.call(this,"ERROR: estado="+this.state+", input="+e)}break;case a:switch(e){case u:this.state=s,C.call(this,y);break;case f:this.state=r,C.call(this,g),C.call(this,w);break;case h:this.state=r,C.call(this,y),C.call(this,w);break;default:S.call(this,"ERROR: estado="+this.state+", input="+e)}break;default:S.call(this,"ERROR: estado="+this.state)}}function C(e){var t=this;switch(e){case p:clearTimeout(this.maxPauseTimerId),this.maxPauseTimerId=setTimeout(function(){E.call(t,f)},n);break;case y:clearTimeout(this.maxPauseTimerId);break;case m:clearTimeout(this.maxDurationTimerId),this.maxDurationTimerId=setTimeout(function(){E.call(t,h)},i);break;case g:clearTimeout(this.maxDurationTimerId);break;case v:this.bus.publish(k);break;case w:this.bus.publish(b);break;default:S.call(this,"ERROR: acción="+e)}}function S(e){i4t.logger.trace("AudioMachineState | "+e)}function e(e){var t=this;this.state=r,this.maxPauseTimerId,this.maxDurationTimerId,this.bus=e,this.bus.subscribe(i4t.webRTC.Vad.ON_VAD_OFF,function(){E.call(t,c)}),this.bus.subscribe(i4t.webRTC.Vad.ON_VAD_ON,function(){E.call(t,u)}),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_ON,function(){E.call(t,l)}),this.bus.subscribe(i4t.webRTC.SpeechLevel.SPEECH_LEVEL_OFF,function(){E.call(t,d)})}return e.STATEMACHINE_START_REC=k,e.STATEMACHINE_STOP_REC=b,e}()});